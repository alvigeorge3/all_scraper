(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2543,47651],{753:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>u,Gq:()=>s,OE:()=>l,SO:()=>a,Uy:()=>i,Vv:()=>c});var r=n(52186);let i={session:"sessionStorage",local:"localStorage"};function o(e){var t;try{let t;t=window[e];let n="__faro_storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return null==(t=r.P.internalLogger)||t.info(`Web storage of type ${e} is not available. Reason: ${n}`),!1}}function s(e,t){return d(t)?window[t].getItem(e):null}function a(e,t,n){if(d(n))try{window[n].setItem(e,t)}catch(e){}}function u(e,t){d(t)&&window[t].removeItem(e)}let l=o(i.local),c=o(i.session);function d(e){return e===i.local?l:e===i.session&&c}},1398:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var r=n(69366),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(){function e(){}return e.prototype.active=function(){return r.l},e.prototype.with=function(e,t,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];return t.call.apply(t,o([n],i(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),a=n(21782),u=n(90650),l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d="context",f=new s,p=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,a.$G)(d,e,u.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,c([e,t,n],l(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,a.mS)(d)||f},e.prototype.disable=function(){this._getContextManager().disable(),(0,a.kv)(d,u.K.instance())},e}()},3625:(e,t,n)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),n(54568),n(97509),n(63042),n(81271)},4446:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},6035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,n(59113).createAsyncLocalStorage)()},8406:(e,t,n)=>{"use strict";n.d(t,{$g:()=>i,OV:()=>r,_G:()=>o,vX:()=>s});let r="user-action-start",i="user-action-end",o="user-action-cancel",s="user-action-halt"},9639:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(61989);class i extends r.H{constructor(){super(...arguments),this.api={},this.transports={}}}},9778:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(52186);function i(){var e,t,n;let i=r.P.config.sessionTracking,o=null!=(n=null!=(t=null==(e=null==i?void 0:i.sampler)?void 0:e.call(i,{metas:r.P.metas.value}))?t:null==i?void 0:i.samplingRate)?n:1;return"number"!=typeof o&&(o=0),Math.random()<o}},9874:(e,t,n)=>{"use strict";function r(e,t){let n,r=!1,i=()=>{if(null==n){r=!1;return}e(...n),n=null,setTimeout(i,t)};return(...o)=>{if(r){n=o;return}e(...o),r=!0,setTimeout(i,t)}}n.d(t,{n:()=>r})},10847:(e,t,n)=>{"use strict";n.d(t,{FU:()=>o,M1:()=>i,Zf:()=>s});let r=(0,n(69366).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(r,!0)}function o(e){return e.deleteValue(r)}function s(e){return!0===e.getValue(r)}},15667:(e,t,n)=>{"use strict";n.d(t,{Ki:()=>o,iM:()=>s});var r=n(52186),i=n(38280);function o(e=""){return r.P.transports.transports.flatMap(e=>e.getIgnoreUrls()).some(t=>e&&null!=e.match(t))}function s(e){return(0,i.Kg)(e)?e:e instanceof URL?e.href:!(0,i.Im)(e)&&(0,i.Tn)(null==e?void 0:e.toString)?e.toString():void 0}},20079:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(88195),i=function(){function e(e){void 0===e&&(e=r.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},20870:(e,t,n)=>{"use strict";n.d(t,{HS:()=>g,Lo:()=>p,N9:()=>f,Sy:()=>u,Wf:()=>i,Wo:()=>l,bz:()=>d,cB:()=>a,iC:()=>o,k4:()=>r,ld:()=>m,mZ:()=>v,rD:()=>h,tE:()=>c,xQ:()=>s});let r="\n",i="eval",o="?",s="@",a=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,l="eval",c="address at ",d=c.length,f=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,p=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,h=" > eval",m="safari-extension",g="safari-web-extension",v=/Minified React error #\d+;/i},21782:(e,t,n)=>{"use strict";n.d(t,{mS:()=>l,$G:()=>u,kv:()=>c});var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},i="1.9.0",o=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,s=function(e){var t=new Set([e]),n=new Set,r=e.match(o);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function s(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(o);if(!r)return s(e);var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=a.prerelease||i.major!==a.major)return s(e);if(0===i.major)return i.minor===a.minor&&i.patch<=a.patch?(t.add(e),!0):s(e);return i.minor<=a.minor?(t.add(e),!0):s(e)}}(i),a=Symbol.for("opentelemetry.js.api."+i.split(".")[0]);function u(e,t,n,o){void 0===o&&(o=!1);var s,u=r[a]=null!=(s=r[a])?s:{version:i};if(!o&&u[e]){var l=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}if(u.version!==i){var l=Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+i);return n.error(l.stack||l.message),!1}return u[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+i+"."),!0}function l(e){var t,n,i=null==(t=r[a])?void 0:t.version;if(i&&s(i))return null==(n=r[a])?void 0:n[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+i+".");var n=r[a];n&&delete n[e]}},22078:(e,t,n)=>{"use strict";var r;n.d(t,{V:()=>r}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r||(r={}))},22827:(e,t,n)=>{"use strict";n.d(t,{A2:()=>d,E$:()=>h,HZ:()=>p,Mb:()=>o,Mz:()=>y,OR:()=>l,UX:()=>f,WQ:()=>b,aJ:()=>v,aO:()=>g,d6:()=>s,kS:()=>c,n4:()=>a,nW:()=>u,oJ:()=>r,qV:()=>m,wL:()=>i});let r="error.type",i="exception.message",o="exception.stacktrace",s="exception.type",a="http.request.method",u="http.request.method_original",l="http.response.status_code",c="server.address",d="server.port",f="service.name",p="service.version",h="telemetry.sdk.language",m="webjs",g="telemetry.sdk.name",v="telemetry.sdk.version",b="url.full",y="user_agent.original"},22915:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});class r{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),{unsubscribe:()=>this.unsubscribe(e)}}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}notify(e){this.subscribers.forEach(t=>t(e))}first(){let e=new r,t=t=>{e.notify(t),n.unsubscribe()},n=this.subscribe(t),i=e.unsubscribe.bind(e);return this.withUnsubscribeOverride(e,i,t)}takeWhile(e){let t=new r,n=r=>{e(r)?t.notify(r):t.unsubscribe(n)};this.subscribe(n);let i=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,i,n)}filter(e){let t=new r,n=n=>{e(n)&&t.notify(n)};this.subscribe(n);let i=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,i,n)}merge(...e){let t=new r,n=[];e.forEach(e=>{let r=e.subscribe(e=>{t.notify(e)});n.push(r)});let i=t.unsubscribeAll.bind(t);return t.unsubscribe=()=>{n.forEach(e=>e.unsubscribe()),i()},t}withUnsubscribeOverride(e,t,n){return e.unsubscribe=e=>{t(e),this.unsubscribe(n)},e}unsubscribeAll(){this.subscribers=[]}}},22975:(e,t,n)=>{"use strict";n.d(t,{vI:()=>s,vc:()=>o,wK:()=>r});var r,i=n(49216);!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"}(r||(r={}));let o={debug:i.l,error:i.l,info:i.l,prefix:"Faro",warn:i.l},s=r.ERROR},23340:(e,t,n)=>{"use strict";n.d(t,{IP:()=>l,YA:()=>u,hX:()=>a});var r=n(88195),i=n(20079),o=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return o.test(e)&&e!==r.RH}function u(e){var t;return a(e.traceId)&&(t=e.spanId,s.test(t)&&t!==r.w9)}function l(e){return new i.d(e)}},23871:(e,t,n)=>{"use strict";let r,i,o,s;n.d(t,{v:()=>n_});var a,u,l,c,d,f,p,h,m,g,v,b,y,_=n(64759),S=n(89283),w=n(41923),E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){function e(){}return e.prototype.createGauge=function(e,t){return M},e.prototype.createHistogram=function(e,t){return j},e.prototype.createCounter=function(e,t){return D},e.prototype.createUpDownCounter=function(e,t){return U},e.prototype.createObservableGauge=function(e,t){return $},e.prototype.createObservableCounter=function(e,t){return B},e.prototype.createObservableUpDownCounter=function(e,t){return F},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),O=function(){},A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.add=function(e,t){},t}(O),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.add=function(e,t){},t}(O),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.record=function(e,t){},t}(O),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.record=function(e,t){},t}(O),R=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t}(R),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t}(R),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t}(R),k=new T,D=new A,M=new x,j=new L,U=new C,B=new P,$=new I,F=new N,V=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return k},e}()),z=n(21782),H=n(90650),q="metrics",G=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,z.$G)(q,e,H.K.instance())},e.prototype.getMeterProvider=function(){return(0,z.mS)(q)||V},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){(0,z.kv)(q,H.K.instance())},e})().getInstance();let K="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},W=Symbol.for("io.opentelemetry.js.api.logs");class X{emit(e){}}let Z=new X;class Q{getLogger(e,t,n){return new X}}let J=new Q;class Y{constructor(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Z}}class ee{getLogger(e,t,n){var r;return null!=(r=this.getDelegateLogger(e,t,n))?r:new Y(this,e,t,n)}getDelegate(){var e;return null!=(e=this._delegate)?e:J}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getLogger(e,t,n)}}class et{constructor(){this._proxyLoggerProvider=new ee}static getInstance(){return this._instance||(this._instance=new et),this._instance}setGlobalLoggerProvider(e){return K[W]?this.getLoggerProvider():(K[W]=t=>1===t?e:J,this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return null!=(t=null==(e=K[W])?void 0:e.call(K,1))?t:this._proxyLoggerProvider}getLogger(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)}disable(){delete K[W],this._proxyLoggerProvider=new ee}}let en=et.getInstance();var er=n(89969),ei=n(22827);let eo={[ei.aO]:"opentelemetry","process.runtime.name":"browser",[ei.E$]:ei.qV,[ei.aJ]:"2.2.0"},es=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class ea{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let n=new ea({},t);return n._rawAttributes=ec(e),n._asyncAttributesPending=e.filter(([e,t])=>es(t)).length>0,n}constructor(e,t){let n=e.attributes??{};this._rawAttributes=Object.entries(n).map(([e,t])=>(es(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=ec(this._rawAttributes),this._schemaUrl=function(e){if("string"==typeof e||void 0===e)return e;er.s.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,es(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&er.s.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(es(n)){er.s.debug(`Unsettled resource attribute ${t} skipped`);continue}null!=n&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(null==e)return this;let t=function(e,t){let n=e?.schemaUrl,r=t?.schemaUrl,i=void 0===r||""===r;return void 0===n||""===n?r:i||n===r?n:void er.s.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',n,r)}(this,e);return ea.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],t?{schemaUrl:t}:void 0)}}function eu(e,t){return ea.FromAttributeList(Object.entries(e),t)}function el(){return eu({[ei.UX]:"unknown_service",[ei.E$]:eo[ei.E$],[ei.aO]:eo[ei.aO],[ei.aJ]:eo[ei.aJ]})}function ec(e){return e.map(([e,t])=>es(t)?[e,t.catch(t=>{er.s.debug("promise rejection for resource attribute: %s - %s",e,t)})]:[e,t])}let ed=Function.prototype.toString,ef=ed.call(Object),ep=Object.getPrototypeOf,eh=Object.prototype,em=eh.hasOwnProperty,eg=Symbol?Symbol.toStringTag:void 0,ev=eh.toString;function eb(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":eg&&eg in Object(n)?function(e){let t=em.call(e,eg),n=e[eg],r=!1;try{e[eg]=void 0,r=!0}catch{}let i=ev.call(e);return r&&(t?e[eg]=n:delete e[eg]),i}(n):(r=n,ev.call(r))))return!1;let i=ep(e);if(null===i)return!0;let o=em.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&ed.call(o)===ef}function ey(e){return eS(e)?e.slice():e}function e_(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function eS(e){return Array.isArray(e)}function ew(e){return"function"==typeof e}function eE(e){return!eT(e)&&!eS(e)&&!ew(e)&&"object"==typeof e}function eT(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var eO=n(88195);!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(a||(a={})),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(u||(u={}));var eA=n(28090),eC=n(69366);let ex=(0,eC.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function eL(e){return!0===e.getValue(ex)}function eR(e){let t={};if("object"!=typeof e||null==e)return t;for(let r in e){var n;if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("string"!=typeof(n=r)||""===n){er.s.warn(`Invalid attribute key: ${r}`);continue}let i=e[r];if(!eP(i)){er.s.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function eP(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e){if(null==n)continue;let e=typeof n;if(e!==t){if(!t&&eI(e)){t=e;continue}return!1}}return!0}(e):eI(typeof e))}function eI(e){switch(e){case"number":case"boolean":case"string":return!0}return!1}!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(l||(l={}));let eN=performance;function ek(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function eD(){let e=eN.timeOrigin;return"number"!=typeof e&&(e=eN.timing&&eN.timing.fetchStart),e}function eM(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function ej(e){return eM(e)||"number"==typeof e||e instanceof Date}function eU(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}class eB{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:l.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=eN.now(),this._performanceOffset=t-(this._performanceStartTime+eD()),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return er.s.warn(`Invalid attribute key: ${e}`),this;if(!eP(t))return er.s.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return void 0!==n&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:r}=this._spanLimits;if(0===r)return er.s.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==r&&this.events.length>=r&&(0===this._droppedEventsCount&&er.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),ej(t)&&(ej(n)||(n=t),t=void 0);let i=eR(t);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(er.s.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){var t,n;let r,i;if(this._isSpanEnded())return void er.s.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);this._ended=!0,this.endTime=this._getTime(e),this._duration=(t=this.startTime,r=(n=this.endTime)[0]-t[0],(i=n[1]-t[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(er.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&er.s.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if("number"==typeof e&&e<=eN.now()){var t=e+this._performanceOffset;return eU(ek(eD()),ek("number"==typeof t?t:eN.now()))}if("number"==typeof e)return ek(e);if(e instanceof Date)return ek(e.getTime());if(eM(e))return e;if(this._startTimeProvided)return ek(Date.now());let n=eN.now()-this._performanceStartTime;return eU(this.startTime,ek(n))}isRecording(){return!1===this._ended}recordException(e,t){let n={};"string"==typeof e?n[ei.wL]=e:e&&(e.code?n[ei.d6]=e.code.toString():e.name&&(n[ei.d6]=e.name),e.message&&(n[ei.wL]=e.message),e.stack&&(n[ei.Mb]=e.stack)),n[ei.d6]||n[ei.wL]?this.addEvent("exception",n,t):er.s.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);er.s.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(er.s.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}function e$(e){}!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(c||(c={}));class eF{shouldSample(){return{decision:c.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class eV{shouldSample(){return{decision:c.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}var ez=n(23340);function eH(e){try{var t;er.s.error((t=e,"string"==typeof t?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t))))}catch{}}class eq{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(eH(Error("ParentBasedSampler must have a root sampler configured")),this._root=new eV),this._remoteParentSampled=e.remoteParentSampled??new eV,this._remoteParentNotSampled=e.remoteParentNotSampled??new eF,this._localParentSampled=e.localParentSampled??new eV,this._localParentNotSampled=e.localParentNotSampled??new eF}shouldSample(e,t,n,r,i,o){let s=_.u.getSpanContext(e);return s&&(0,ez.YA)(s)?s.isRemote?s.traceFlags&eA.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,o):s.traceFlags&eA.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,o):this._localParentNotSampled.shouldSample(e,t,n,r,i,o):this._root.shouldSample(e,t,n,r,i,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class eG{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,t){return{decision:(0,ez.hX)(t)&&this._accumulate(t)<this._upperBound?c.RECORD_AND_SAMPLED:c.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}function eK(){return{sampler:eW(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e$("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:e$("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:e$("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:e$("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:e$("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:e$("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:e$("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:e$("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function eW(){let e=(void 0)??d.ParentBasedAlwaysOn;switch(e){case d.AlwaysOn:return new eV;case d.AlwaysOff:return new eF;case d.ParentBasedAlwaysOn:return new eq({root:new eV});case d.ParentBasedAlwaysOff:return new eq({root:new eF});case d.TraceIdRatio:return new eG(eX());case d.ParentBasedTraceIdRatio:return new eq({root:new eG(eX())});default:return er.s.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${d.ParentBasedAlwaysOn}".`),new eq({root:new eV})}}function eX(){let e=e$("OTEL_TRACES_SAMPLER_ARG");return null==e?(er.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1):e<0||e>1?(er.s.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to 1.`),1):e}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(d||(d={}));let eZ=1/0;class eQ{generateTraceId=eY(16);generateSpanId=eY(8)}let eJ=Array(32);function eY(e){return function(){for(let t=0;t<2*e;t++)eJ[t]=Math.floor(16*Math.random())+48,eJ[t]>=58&&(eJ[t]+=39);return String.fromCharCode.apply(null,eJ.slice(0,2*e))}}class e0{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,n,r){let i=function(e){let t={sampler:eW()},n=eK(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new eQ,this._resource=n,this._spanProcessor=r,this.instrumentationScope=e}startSpan(e,t={},n=S._.active()){let r,i,o;t.root&&(n=_.u.deleteSpan(n));let s=_.u.getSpan(n);if(eL(n))return er.s.debug("Instrumentation suppressed, returning Noop Span"),_.u.wrapSpanContext(eO.dM);let l=s?.spanContext(),c=this._idGenerator.generateSpanId();l&&_.u.isSpanContextValid(l)?(i=l.traceId,o=l.traceState,r=l):i=this._idGenerator.generateTraceId();let d=t.kind??a.INTERNAL,f=(t.links??[]).map(e=>({context:e.context,attributes:eR(e.attributes)})),p=eR(t.attributes),h=this._sampler.shouldSample(n,i,e,d,p,f);o=h.traceState??o;let m={traceId:i,spanId:c,traceFlags:h.decision===u.RECORD_AND_SAMPLED?eA.X.SAMPLED:eA.X.NONE,traceState:o};if(h.decision===u.NOT_RECORD)return er.s.debug("Recording is off, propagating context in a non-recording span"),_.u.wrapSpanContext(m);let g=eR(Object.assign(p,h.attributes));return new eB({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:m,name:e,kind:d,links:f,parentSpanContext:r,attributes:g,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,r){let i,o,s;if(arguments.length<2)return;2==arguments.length?s=t:3==arguments.length?(i=t,s=n):(i=t,o=n,s=r);let a=o??S._.active(),u=this.startSpan(e,i,a),l=_.u.setSpan(a,u);return S._.with(l,s,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class e1{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{eH(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}}!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(f||(f={}));class e2{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let t=function(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let o;if(!(r>20)){if(r++,eT(t)||eT(n)||ew(n))o=ey(n);else if(eS(t)){if(o=t.slice(),eS(n))for(let e=0,t=n.length;e<t;e++)o.push(ey(n[e]));else if(eE(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];o[r]=ey(n[r])}}}else if(eE(t))if(eE(n)){var s,a;if(s=t,a=n,!(eb(s)&&eb(a)))return n;o=Object.assign({},t);let u=Object.keys(n);for(let s=0,a=u.length;s<a;s++){let a=u[s],l=n[a];if(eT(l))void 0===l?delete o[a]:o[a]=l;else{let s=o[a];if(e_(t,a,i)||e_(n,a,i))delete o[a];else{if(eE(s)&&eE(l)){let e=i.get(s)||[],r=i.get(l)||[];e.push({obj:t,key:a}),r.push({obj:n,key:a}),i.set(s,e),i.set(l,r)}o[a]=e(o[a],l,r,i)}}}}else o=n;return o}}(t,e.shift(),0,n);return t}({},eK(),function(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??e$("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??e$("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??e$("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??e$("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??eZ,Object.assign({},e,{spanLimits:t})}(e));this._resource=t.resource??el(),this._config=Object.assign({},t,{resource:this._resource});let n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new e1(n)}getTracer(e,t,n){let r=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(r)||this._tracers.set(r,new e0({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(r)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(n=>{let r,i=setTimeout(()=>{n(Error(`Span processor did not completed within timeout period of ${e} ms`)),r=f.timeout},e);t.forceFlush().then(()=>{clearTimeout(i),r!==f.timeout&&n(r=f.resolved)}).catch(e=>{clearTimeout(i),r=f.error,n(e)})}));return new Promise((e,n)=>{Promise.all(t).then(t=>{let r=t.filter(e=>e!==f.resolved);r.length>0?n(r):e()}).catch(e=>n([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}class e3{_enabled=!1;_currentContext=eC.l;_bindFunction(e=eC.l,t){let n=this,r=function(...r){return n.with(e,()=>t.apply(this,r))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}active(){return this._currentContext}bind(e,t){return(void 0===e&&(e=this.active()),"function"==typeof t)?this._bindFunction(e,t):t}disable(){return this._currentContext=eC.l,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=eC.l),this}with(e,t,n,...r){let i=this._currentContext;this._currentContext=e||eC.l;try{return t.call(n,...r)}finally{this._currentContext=i}}}var e6=n(58773);class e9{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,n){for(let r of this._propagators)try{r.inject(e,t,n)}catch(e){er.s.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}}extract(e,t,n){return this._propagators.reduce((e,r)=>{try{return r.extract(e,t,n)}catch(e){er.s.warn(`Failed to extract with ${r.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}let e4="[_0-9a-z-*/]",e5=`[a-z]${e4}{0,255}`,e8=`[a-z0-9]${e4}{0,240}@[a-z]${e4}{0,13}`,e7=RegExp(`^(?:${e5}|${e8})$`),te=/^[ -~]{0,255}[!-~]$/,tt=/,|=/;class tn{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),o=n.slice(r+1,t.length);e7.test(i)&&te.test(o)&&!tt.test(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new tn;return e._internalState=new Map(this._internalState),e}}let tr="traceparent",ti="tracestate",to=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");class ts{inject(e,t,n){let r=_.u.getSpanContext(e);if(!r||eL(e)||!(0,ez.YA)(r))return;let i=`00-${r.traceId}-${r.spanId}-0${Number(r.traceFlags||eA.X.NONE).toString(16)}`;n.set(t,tr,i),r.traceState&&n.set(t,ti,r.traceState.serialize())}extract(e,t,n){let r=n.get(t,tr);if(!r)return e;let i=Array.isArray(r)?r[0]:r;if("string"!=typeof i)return e;let o=function(e){let t=to.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}(i);if(!o)return e;o.isRemote=!0;let s=n.get(t,ti);if(s){let e=Array.isArray(s)?s.join(","):s;o.traceState=new tn("string"==typeof e?e:void 0)}return _.u.setSpanContext(e,o)}fields(){return[tr,ti]}}let ta="baggage";var tu=n(46216);class tl{inject(e,t,n){let r=e6.$.getBaggage(e);if(!r||eL(e))return;let i=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");i.length>0&&n.set(t,ta,i)}extract(e,t,n){let r=n.get(t,ta),i=Array.isArray(r)?r.join(","):r;if(!i)return e;let o={};return 0===i.length||(i.split(",").forEach(e=>{let t=function(e){let t,n=e.split(";");if(n.length<=0)return;let r=n.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let o=decodeURIComponent(r.substring(0,i).trim()),s=decodeURIComponent(r.substring(i+1).trim());return n.length>0&&(t=(0,tu.B)(n.join(";"))),{key:o,value:s,metadata:t}}(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),o[t.key]=e}}),0===Object.entries(o).length)?e:e6.$.setBaggage(e,e6.$.createBaggage(o))}fields(){return[ta]}}class tc extends e2{constructor(e={}){super(e)}register(e={}){_.u.setGlobalTracerProvider(this),function(e){if(null!==e){if(void 0===e)return e6.$.setGlobalPropagator(new e9({propagators:[new ts,new tl]}));e6.$.setGlobalPropagator(e)}}(e.propagator),function(e){if(null!==e){if(void 0===e){let e=new e3;e.enable(),S._.setGlobalContextManager(e);return}e.enable(),S._.setGlobalContextManager(e)}}(e.contextManager)}}class td{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class tf{_callback;_that;_isCalled=!1;_deferred=new td;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(p||(p={}));class tp{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize="number"==typeof t?.maxExportBatchSize?t.maxExportBatchSize:e$("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize="number"==typeof t?.maxQueueSize?t.maxQueueSize:e$("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis="number"==typeof t?.scheduledDelayMillis?t.scheduledDelayMillis:e$("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis="number"==typeof t?.exportTimeoutMillis?t.exportTimeoutMillis:e$("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new tf(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(er.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&eA.X.SAMPLED)!=0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&er.s.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(er.s.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],r=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0;e<r;e++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(Error("Timeout"))},this._exportTimeoutMillis);S._.with(S._.active().setValue(ex,!0),()=>{let r;this._finishedSpans.length<=this._maxExportBatchSize?(r=this._finishedSpans,this._finishedSpans=[]):r=this._finishedSpans.splice(0,this._maxExportBatchSize);let i=()=>this._exporter.export(r,r=>{clearTimeout(n),r.code===p.SUCCESS?e():t(r.error??Error("BatchSpanProcessor: span export failed"))}),o=null;for(let e=0,t=r.length;e<t;e++){let t=r[e];t.resource.asyncAttributesPending&&t.resource.waitForAsyncAttributes&&(o??=[]).push(t.resource.waitForAsyncAttributes())}null===o?i():Promise.all(o).then(i,e=>{eH(e),t(e)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{this._isExporting=!1,eH(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),"number"!=typeof this._timer&&this._timer.unref())}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}class th extends tp{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this.onInit(t)}onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush().catch(e=>{eH(e)})},this._pageHideListener=()=>{this.forceFlush().catch(e=>{eH(e)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}var tm=n(9639),tg=n(74246),tv=n(38280);class tb{constructor(e,t){this.processor=e,this.metas=t}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n;let r=this.metas.value.session;(null==r?void 0:r.id)&&(e.attributes["session.id"]=r.id,e.attributes.session_id=r.id);let i=null!=(n=this.metas.value.user)?n:{};i.email&&(e.attributes["user.email"]=i.email),i.id&&(e.attributes["user.id"]=i.id),i.username&&(e.attributes["user.name"]=i.username),i.fullName&&(e.attributes["user.full_name"]=i.fullName),i.roles&&(e.attributes["user.roles"]=i.roles.split(",").map(e=>e.trim())),i.hash&&(e.attributes["user.hash"]=i.hash),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}}var ty=n(22078),t_=n(69771),tS=n(48127),tw=n(31266),tE=n(52186);class tT{constructor(e){this.config=e}export(e,t){let n=(0,t_.sJ)(e,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(n),function(e=[]){var t,n;for(let r of e){let{scopeSpans:e}=r;for(let r of e){let{scope:e,spans:i=[]}=r;for(let r of i){if(r.kind!==tS.i1.SPAN_KIND_CLIENT)continue;let i={traceId:r.traceId.toString(),spanId:r.spanId.toString()},o={};for(let e of r.attributes)o[e.key]=String(Object.values(e.value)[0]);Number.isNaN(r.endTimeUnixNano)||Number.isNaN(r.startTimeUnixNano)||(o.duration_ns=String(Number(r.endTimeUnixNano)-Number(r.startTimeUnixNano)));let s=(null!=(t=null==e?void 0:e.name)?t:"").indexOf("-"),a=tw.y;(null==e?void 0:e.name)&&(-1===s&&(a=null!=(n=e.name.split("/")[1])?n:e.name),s>-1&&(a=null==e?void 0:e.name.substring(s+1))),tE.P.api.pushEvent(`faro.tracing.${a}`,o,void 0,{spanContext:i,timestampOverwriteMs:Number(r.endTimeUnixNano)/1e6,customPayloadTransformer:e=>{var t,n;return null!=o["faro.action.user.name"]&&null!=o["faro.action.user.parentId"]&&(e.action={name:o["faro.action.user.name"],parentId:o["faro.action.user.parentId"]},null==(t=e.attributes)||delete t["faro.action.user.name"],null==(n=e.attributes)||delete n["faro.action.user.parentId"]),e}})}}}}(n.resourceSpans),t({code:ty.V.SUCCESS})}shutdown(){return Promise.resolve(void 0)}}var tO=n(89513),tA=n(8406);class tC{constructor(e){this.processor=e,tO.Q.subscribe(e=>{if(e.type===tA.OV){this.message=e;return}[tA.$g,tA.vX,tA._G].includes(e.type)&&(this.message=void 0)})}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n,r;e.kind===a.CLIENT&&this.message&&(e.attributes["faro.action.user.name"]=null==(n=this.message)?void 0:n.name,e.attributes["faro.action.user.parentId"]=null==(r=this.message)?void 0:r.parentId),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}}let tx=console.error.bind(console);function tL(e,t,n){let r=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}let tR=(e,t,n)=>{if(!e||!e[t])return void tx("no original function "+String(t)+" to wrap");if(!n){tx("no wrapper function"),tx(Error().stack);return}let r=e[t];if("function"!=typeof r||"function"!=typeof n)return void tx("original object and wrapper must be functions");let i=n(r,t);return tL(i,"__original",r),tL(i,"__unwrap",()=>{e[t]===i&&tL(e,t,r)}),tL(i,"__wrapped",!0),tL(e,t,i),i},tP=(e,t,n)=>{if(e)Array.isArray(e)||(e=[e]);else{tx("must provide one or more modules to patch"),tx(Error().stack);return}if(!(t&&Array.isArray(t)))return void tx("must provide one or more functions to wrap on modules");e.forEach(e=>{t.forEach(t=>{tR(e,t,n)})})},tI=(e,t)=>{if(!e||!e[t]){tx("no function to unwrap."),tx(Error().stack);return}let n=e[t];if(n.__unwrap)return void n.__unwrap();tx("no original to unwrap to -- has "+String(t)+" already been unwrapped?")},tN=(e,t)=>{if(e)Array.isArray(e)||(e=[e]);else{tx("must provide one or more modules to patch"),tx(Error().stack);return}if(!(t&&Array.isArray(t)))return void tx("must provide one or more functions to unwrap on modules");e.forEach(e=>{t.forEach(t=>{tI(e,t)})})};function tk(e){e&&e.logger&&("function"!=typeof e.logger?tx("new logger isn't a function, not replacing"):tx=e.logger)}tk.wrap=tR,tk.massWrap=tP,tk.unwrap=tI,tk.massUnwrap=tN;class tD{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this.setConfig(n),this._diag=er.s.createComponentLogger({namespace:e}),this._tracer=_.u.getTracer(e,t),this._meter=G.getMeter(e,t),this._logger=en.getLogger(e,t),this._updateMetricInstruments()}_wrap=tR;_unwrap=tI;_massWrap=tP;_massUnwrap=tN;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,n,r){if(e)try{e(n,r)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}}}class tM extends tD{constructor(e,t,n){super(e,t,n),this._config.enabled&&this.enable()}}function tj(e,t){let n=h.OLD;for(let r of t?.split(",").map(e=>e.trim()).filter(e=>""!==e)??[])if(r.toLowerCase()===e+"/dup"){n=h.DUPLICATE;break}else r.toLowerCase()===e&&(n=h.STABLE);return n}function tU(e,t,n){let r,i;try{i=e()}catch(e){r=e}finally{if(t(r,i),r&&!n)throw r;return i}}function tB(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}function t$(e,t){return"string"==typeof t?e===t:!!e.match(t)}!function(e){e[e.STABLE=1]="STABLE",e[e.OLD=2]="OLD",e[e.DUPLICATE=3]="DUPLICATE"}(h||(h={}));let tF=performance;function tV(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function tz(){let e=tF.timeOrigin;return"number"!=typeof e&&(e=tF.timing&&tF.timing.fetchStart),e}function tH(e){var t=tV(tz()),n=tV("number"==typeof e?e:tF.now());let r=[t[0]+n[0],t[1]+n[1]];return r[1]>=1e9&&(r[1]-=1e9,r[0]+=1),r}function tq(e){var t;if(Array.isArray(t=e)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])return e;if("number"==typeof e)if(e<tz())return tH(e);else return tV(e);if(e instanceof Date)return tV(e.getTime());throw TypeError("Invalid input type")}function tG(e){return 1e9*e[0]+e[1]}function tK(e,t,n,r=!0){if(t in n&&"number"==typeof n[t]&&!(r&&0===n[t]))return e.addEvent(t,n[t])}function tW(e,t,n=!1,r,i){if(void 0===r&&(r=0!==t[m.START_TIME]),n||(tK(e,m.FETCH_START,t,r),tK(e,m.DOMAIN_LOOKUP_START,t,r),tK(e,m.DOMAIN_LOOKUP_END,t,r),tK(e,m.CONNECT_START,t,r),tK(e,m.SECURE_CONNECTION_START,t,r),tK(e,m.CONNECT_END,t,r),tK(e,m.REQUEST_START,t,r),tK(e,m.RESPONSE_START,t,r),tK(e,m.RESPONSE_END,t,r)),!i){let n=t[m.ENCODED_BODY_SIZE];void 0!==n&&e.setAttribute("http.response_content_length",n);let r=t[m.DECODED_BODY_SIZE];void 0!==r&&n!==r&&e.setAttribute("http.response_content_length_uncompressed",r)}}function tX(){return"undefined"!=typeof location?location.origin:void 0}function tZ(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);let t=(r||(r=document.createElement("a")),r);return t.href=e,t}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.START_TIME="startTime",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(m||(m={})),!function(e){e.COMPONENT="component",e.HTTP_STATUS_TEXT="http.status_text"}(g||(g={}));var tQ=n(98098);let tJ=er.s.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"}),tY=new TextEncoder;function t0(e){return tY.encode(e).byteLength}let t1={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},t2={"https:":"443","http:":"80"},t3="0.202.0",t6="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{};var t9=n(40459);let t4="object"==typeof t9&&t9.release?.name==="node";class t5 extends tM{component="fetch";version=t3;moduleName=this.component;_usedResources=new WeakSet;_tasksCount=0;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-fetch",t3,e),this._semconvStability=tj("http",e?.semconvStabilityOptIn)}init(){}_addChildSpan(e,t){let n=this.tracer.startSpan("CORS Preflight",{startTime:t[m.FETCH_START]},_.u.setSpan(S._.active(),e)),r=!(this._semconvStability&h.OLD);tW(n,t,this.getConfig().ignoreNetworkEvents,void 0,r),n.end(t[m.RESPONSE_END])}_addFinalSpanAttributes(e,t){let n=tZ(t.url);if(this._semconvStability&h.OLD&&(e.setAttribute(tQ.a3,t.status),null!=t.statusText&&e.setAttribute(g.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(tQ.Mm,n.host),e.setAttribute(tQ.v8,n.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(tQ.ds,navigator.userAgent)),this._semconvStability&h.STABLE){e.setAttribute(ei.OR,t.status),e.setAttribute(ei.kS,n.hostname);let r=function(e){let t=Number(e.port||t2[e.protocol]);return t&&!isNaN(t)?t:void 0}(n);r&&e.setAttribute(ei.A2,r)}}_addHeaders(e,t){let n;if(("string"==typeof(n=this.getConfig().propagateTraceHeaderCorsUrls||[])||n instanceof RegExp)&&(n=[n]),!(tZ(t).origin===tX()||n.some(e=>t$(t,e)))){let e={};e6.$.inject(S._.active(),e),Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)e6.$.inject(S._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else if(e.headers instanceof Headers)e6.$.inject(S._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else if(e.headers instanceof Map)e6.$.inject(S._.active(),e.headers,{set:(e,t,n)=>e.set(t,"string"==typeof n?n:String(n))});else{let t={};e6.$.inject(S._.active(),t),e.headers=Object.assign({},t,e.headers||{})}}_clearResources(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(function(e,t){if(!t)return!1;for(let n of t)if(t$(e,n))return!0;return!1}(e,this.getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");let n="",r={};if(this._semconvStability&h.OLD){let i=(t.method||"GET").toUpperCase();n=`HTTP ${i}`,r[g.COMPONENT]=this.moduleName,r[tQ.rp]=i,r[tQ.XV]=e}if(this._semconvStability&h.STABLE){let o=t.method,s=function(e){let t=function(){if(void 0===i){let e=void 0;e&&e.length>0?(i={},e.forEach(e=>{i[e]=!0})):i=t1}return i}(),n=e.toUpperCase();return n in t?n:"_OTHER"}(t.method||"GET");n||(n=s),r[ei.n4]=s,s!==o&&(r[ei.nW]=o),r[ei.WQ]=e}return this.tracer.startSpan(n,{kind:a.CLIENT,attributes:r})}_findResourceAndAddNetworkEvents(e,t,n){let r=t.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}let i=function(e,t,n,r,i=new WeakSet,o){let s=tZ(e),a=function(e,t,n,r,i,o){let s=tG(t),a=tG(n),u=r.filter(t=>{let n=tG(tq(t[m.FETCH_START])),r=tG(tq(t[m.RESPONSE_END]));return t.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&t.name===e&&n>=s&&r<=a});return u.length>0&&(u=u.filter(e=>!i.has(e))),u}(e=s.toString(),t,n,r,i,o);if(0===a.length)return{mainRequest:void 0};if(1===a.length)return{mainRequest:a[0]};let u=a.slice().sort((e,t)=>{let n=e[m.FETCH_START],r=t[m.FETCH_START];return n>r?1:n<r?-1:0});if(s.origin===tX()||!(u.length>1))return{mainRequest:a[0]};{let e=u[0],t=function(e,t,n){let r,i=tG(n),o=tG(tq(t)),s=e[1],a=e.length;for(let t=1;t<a;t++){let n=e[t],a=tG(tq(n[m.FETCH_START])),u=i-tG(tq(n[m.RESPONSE_END]));a>=o&&(!r||u<r)&&(r=u,s=n)}return s}(u,e[m.RESPONSE_END],n),r=e[m.RESPONSE_END];return t[m.FETCH_START]<r&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}}(t.spanUrl,t.startTime,n,r,this._usedResources,"fetch");if(i.mainRequest){let t=i.mainRequest;this._markResourceAsUsed(t);let n=i.corsPreFlightRequest;n&&(this._addChildSpan(e,n),this._markResourceAsUsed(n));let r=!(this._semconvStability&h.OLD);tW(e,t,this.getConfig().ignoreNetworkEvents,void 0,r)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,n){let r=tV(Date.now()),i=tH();this._addFinalSpanAttributes(e,n),this._semconvStability&h.STABLE&&n.status>=400&&(e.setStatus({code:l.ERROR}),e.setAttribute(ei.oJ,String(n.status))),setTimeout(()=>{t.observer?.disconnect(),this._findResourceAndAddNetworkEvents(e,t,i),this._tasksCount--,this._clearResources(),e.end(r)},300)}_patchConstructor(){return e=>{let t=this;return function(...n){let r=this,i=tZ(n[0]instanceof Request?n[0].url:String(n[0])).href,o=n[0]instanceof Request?n[0]:n[1]||{},s=t._createSpan(i,o);if(!s)return e.apply(this,n);let a=t._prepareSpanData(i);function u(e,n){t._applyAttributesAfterFetch(e,o,n),t._endSpan(e,a,{status:n.status||0,statusText:n.message,url:i})}function l(e,n){t._applyAttributesAfterFetch(e,o,n),n.status>=200&&n.status<400?t._endSpan(e,a,n):t._endSpan(e,a,{status:n.status,statusText:n.statusText,url:i})}function c(e,t,n){try{let t=n.clone().body;if(t){let r=t.getReader(),i=()=>{r.read().then(({done:t})=>{t?l(e,n):i()},t=>{u(e,t)})};i()}else l(e,n)}finally{t(n)}}function d(e,t,n){try{u(e,n)}finally{t(n)}}return t.getConfig().measureRequestSize&&(function(...e){if(e[0]instanceof URL||"string"==typeof e[0]){let t=e[1];if(!t?.body)return Promise.resolve();if(!(t.body instanceof ReadableStream))return Promise.resolve(function(e){return"undefined"!=typeof Document&&e instanceof Document?new XMLSerializer().serializeToString(document).length:"string"==typeof e?t0(e):e instanceof Blob?e.size:e instanceof FormData?function(e){let t=0;for(let[n,r]of e.entries())t+=n.length,r instanceof Blob?t+=r.size:t+=r.length;return t}(e):e instanceof URLSearchParams?t0(e.toString()):void 0!==e.byteLength?e.byteLength:void tJ.warn("unknown body type")}(t.body));{let{body:e,length:n}=function(e){let t;if(!e.pipeThrough)return tJ.warn("Platform has ReadableStream but not pipeThrough!"),{body:e,length:Promise.resolve(void 0)};let n=0,r=new Promise(e=>{t=e}),i=new TransformStream({start(){},async transform(e,t){let r=await e;n+=r.byteLength,t.enqueue(e)},flush(){t(n)}});return{body:e.pipeThrough(i),length:r}}(t.body);return t.body=e,n}}{let t=e[0];return t?.body?t.clone().text().then(e=>t0(e)):Promise.resolve()}})(...n).then(e=>{e&&(t._semconvStability&h.OLD&&s.setAttribute(tQ.z4,e),t._semconvStability&h.STABLE&&s.setAttribute(tQ.Me,e))}).catch(e=>{t._diag.warn("getFetchBodyLength",e)}),new Promise((n,a)=>S._.with(_.u.setSpan(S._.active(),s),()=>(t._addHeaders(o,i),t._callRequestHook(s,o),t._tasksCount++,e.apply(r,o instanceof Request?[o]:[i,o]).then(c.bind(r,s,n),d.bind(r,s,a)))))}}}_applyAttributesAfterFetch(e,t,n){let r=this.getConfig().applyCustomAttributesOnSpan;r&&tU(()=>r(e,t,n),e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)},!0)}_callRequestHook(e,t){let n=this.getConfig().requestHook;n&&tU(()=>n(e,t),e=>{e&&this._diag.error("requestHook",e)},!0)}_prepareSpanData(e){let t=tH(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:t,spanUrl:e};let r=new PerformanceObserver(t=>{t.getEntries().forEach(t=>{"fetch"===t.initiatorType&&t.name===e&&n.push(t)})});return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:t,spanUrl:e}}enable(){if(t4)return void this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");tB(fetch)&&(this._unwrap(t6,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(t6,"fetch",this._patchConstructor())}disable(){t4||(this._unwrap(t6,"fetch"),this._usedResources=new WeakSet)}}let t8=performance;function t7(e,t){return"string"==typeof t?e===t:!!e.match(t)}function ne(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function nt(){let e=t8.timeOrigin;return"number"!=typeof e&&(e=t8.timing&&t8.timing.fetchStart),e}function nn(e){var t=ne(nt()),n=ne("number"==typeof e?e:t8.now());let r=[t[0]+n[0],t[1]+n[1]];return r[1]>=1e9&&(r[1]-=1e9,r[0]+=1),r}function nr(e){var t;if(Array.isArray(t=e)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])return e;if("number"==typeof e)if(e<nt())return nn(e);else return ne(e);if(e instanceof Date)return ne(e.getTime());throw TypeError("Invalid input type")}function ni(e){return 1e9*e[0]+e[1]}function no(e,t,n,r=!0){if(t in n&&"number"==typeof n[t]&&!(r&&0===n[t]))return e.addEvent(t,n[t])}function ns(e,t,n=!1,r,i){if(void 0===r&&(r=0!==t[v.START_TIME]),n||(no(e,v.FETCH_START,t,r),no(e,v.DOMAIN_LOOKUP_START,t,r),no(e,v.DOMAIN_LOOKUP_END,t,r),no(e,v.CONNECT_START,t,r),no(e,v.SECURE_CONNECTION_START,t,r),no(e,v.CONNECT_END,t,r),no(e,v.REQUEST_START,t,r),no(e,v.RESPONSE_START,t,r),no(e,v.RESPONSE_END,t,r)),!i){let n=t[v.ENCODED_BODY_SIZE];void 0!==n&&e.setAttribute("http.response_content_length",n);let r=t[v.DECODED_BODY_SIZE];void 0!==r&&n!==r&&e.setAttribute("http.response_content_length_uncompressed",r)}}function na(){return"undefined"!=typeof location?location.origin:void 0}function nu(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);let t=(o||(o=document.createElement("a")),o);return t.href=e,t}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.START_TIME="startTime",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(v||(v={})),!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(b||(b={}));let nl=er.s.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"}),nc=new TextEncoder;function nd(e){return nc.encode(e).byteLength}let nf={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},np={"https:":"443","http:":"80"},nh="0.202.0";(y||(y={})).HTTP_STATUS_TEXT="http.status_text";class nm extends tM{component="xml-http-request";version=nh;moduleName=this.component;_tasksCount=0;_xhrMem=new WeakMap;_usedResources=new WeakSet;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-xml-http-request",nh,e),this._semconvStability=tj("http",e?.semconvStabilityOptIn)}init(){}_addHeaders(e,t){var n;let r;if(n=nu(t).href,("string"==typeof(r=this.getConfig().propagateTraceHeaderCorsUrls||[])||r instanceof RegExp)&&(r=[r]),!(nu(n).origin===na()||r.some(e=>t7(n,e)))){let e={};e6.$.inject(S._.active(),e),Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};e6.$.inject(S._.active(),i),Object.keys(i).forEach(t=>{e.setRequestHeader(t,String(i[t]))})}_addChildSpan(e,t){S._.with(_.u.setSpan(S._.active(),e),()=>{let e=this.tracer.startSpan("CORS Preflight",{startTime:t[v.FETCH_START]}),n=!(this._semconvStability&h.OLD);ns(e,t,this.getConfig().ignoreNetworkEvents,void 0,n),e.end(t[v.RESPONSE_END])})}_addFinalSpanAttributes(e,t,n){if(this._semconvStability&h.OLD){if(void 0!==t.status&&e.setAttribute("http.status_code",t.status),void 0!==t.statusText&&e.setAttribute(y.HTTP_STATUS_TEXT,t.statusText),"string"==typeof n){let t=nu(n);e.setAttribute("http.host",t.host),e.setAttribute("http.scheme",t.protocol.replace(":",""))}e.setAttribute("http.user_agent",navigator.userAgent)}this._semconvStability&h.STABLE&&t.status&&e.setAttribute(ei.OR,t.status)}_applyAttributesAfterXHR(e,t){let n=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof n&&tU(()=>n(e,t),e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)},!0)}_addResourceObserver(e,t){let n=this._xhrMem.get(e);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver(e=>{let r=e.getEntries(),i=nu(t);r.forEach(e=>{"xmlhttprequest"===e.initiatorType&&e.name===i.href&&n.createdResources&&n.createdResources.entries.push(e)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(t8.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,n,r,i){if(!n||!r||!i||!e.createdResources)return;let o=e.createdResources.entries;o&&o.length||(o=t8.getEntriesByType("resource"));let s=function(e,t,n,r,i=new WeakSet,o){let s=nu(e),a=function(e,t,n,r,i,o){let s=ni(t),a=ni(n),u=r.filter(t=>{let n=ni(nr(t[v.FETCH_START])),r=ni(nr(t[v.RESPONSE_END]));return t.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&t.name===e&&n>=s&&r<=a});return u.length>0&&(u=u.filter(e=>!i.has(e))),u}(e=s.toString(),t,n,r,i,void 0);if(0===a.length)return{mainRequest:void 0};if(1===a.length)return{mainRequest:a[0]};let u=a.slice().sort((e,t)=>{let n=e[v.FETCH_START],r=t[v.FETCH_START];return n>r?1:n<r?-1:0});if(s.origin===na()||!(u.length>1))return{mainRequest:a[0]};{let e=u[0],t=function(e,t,n){let r,i=ni(n),o=ni(nr(t)),s=e[1],a=e.length;for(let t=1;t<a;t++){let n=e[t],a=ni(nr(n[v.FETCH_START])),u=i-ni(nr(n[v.RESPONSE_END]));a>=o&&(!r||u<r)&&(r=u,s=n)}return s}(u,e[v.RESPONSE_END],n),r=e[v.RESPONSE_END];return t[v.FETCH_START]<r&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}}(nu(n).href,r,i,o,this._usedResources);if(s.mainRequest){let e=s.mainRequest;this._markResourceAsUsed(e);let n=s.corsPreFlightRequest;n&&(this._addChildSpan(t,n),this._markResourceAsUsed(n));let r=!(this._semconvStability&h.OLD);ns(t,e,this.getConfig().ignoreNetworkEvents,void 0,r)}}_cleanPreviousSpanInformation(e){let t=this._xhrMem.get(e);if(t){let n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}}_createSpan(e,t,n){if(function(e,t){if(!t)return!1;for(let n of t)if(t7(e,n))return!0;return!1}(t,this.getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");let r="",i=nu(t),o={};if(this._semconvStability&h.OLD&&(r=n.toUpperCase(),o["http.method"]=n,o["http.url"]=i.toString()),this._semconvStability&h.STABLE){let e=function(e){let t=function(){if(void 0===s){let e=void 0;e&&e.length>0?(s={},e.forEach(e=>{s[e]=!0})):s=nf}return s}(),n=e.toUpperCase();return n in t?n:"_OTHER"}(n);r||(r=e),o[ei.n4]=e,e!==n&&(o[ei.nW]=n),o[ei.WQ]=i.toString(),o[ei.kS]=i.hostname;let t=function(e){let t=Number(e.port||np[e.protocol]);return t&&!isNaN(t)?t:void 0}(i);t&&(o[ei.A2]=t)}let u=this.tracer.startSpan(r,{kind:a.CLIENT,attributes:o});return u.addEvent(b.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:u,spanUrl:t}),u}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{let t=this;return function(...n){let r=n[0],i=n[1];return t._createSpan(this,i,r),e.apply(this,n)}}}_patchSend(){let e=this;function t(t,n,r,i){let o=e._xhrMem.get(n);if(!o)return;if(o.status=n.status,o.statusText=n.statusText,e._xhrMem.delete(n),o.span){let t=o.span;e._applyAttributesAfterXHR(t,n),e._semconvStability&h.STABLE&&(r?i&&(t.setStatus({code:l.ERROR,message:i}),t.setAttribute(ei.oJ,i)):o.status&&o.status>=400&&(t.setStatus({code:l.ERROR}),t.setAttribute(ei.oJ,String(o.status))))}let s=nn(),a=Date.now();setTimeout(()=>{let n=o.callbackToRemoveEvents;"function"==typeof n&&n();let{span:r,spanUrl:i,sendStartTime:u}=o;r&&(e._findResourceAndAddNetworkEvents(o,r,i,u,s),r.addEvent(t,a),e._addFinalSpanAttributes(r,o,i),r.end(a),e._tasksCount--),e._clearResources()},300)}function n(){t(b.EVENT_ERROR,this,!0,"error")}function r(){t(b.EVENT_ABORT,this,!1)}function i(){t(b.EVENT_TIMEOUT,this,!0,"timeout")}function o(){this.status<299?t(b.EVENT_LOAD,this,!1):t(b.EVENT_ERROR,this,!1)}return t=>function(...s){let a=e._xhrMem.get(this);if(!a)return t.apply(this,s);let u=a.span,l=a.spanUrl;if(u&&l){if(e.getConfig().measureRequestSize&&s?.[0]){var c,d;let t=(d=c=s[0],"undefined"!=typeof Document&&d instanceof Document)?new XMLSerializer().serializeToString(document).length:"string"==typeof c?nd(c):c instanceof Blob?c.size:c instanceof FormData?function(e){let t=0;for(let[n,r]of e.entries())t+=n.length,r instanceof Blob?t+=r.size:t+=r.length;return t}(c):c instanceof URLSearchParams?nd(c.toString()):void 0!==c.byteLength?c.byteLength:void nl.warn("unknown body type");void 0!==t&&(e._semconvStability&h.OLD&&u.setAttribute("http.request_content_length_uncompressed",t),e._semconvStability&h.STABLE&&u.setAttribute("http.request.body.size",t))}S._.with(_.u.setSpan(S._.active(),u),()=>{e._tasksCount++,a.sendStartTime=nn(),u.addEvent(b.METHOD_SEND),this.addEventListener("abort",r),this.addEventListener("error",n),this.addEventListener("load",o),this.addEventListener("timeout",i),a.callbackToRemoveEvents=()=>{this.removeEventListener("abort",r),this.removeEventListener("error",n),this.removeEventListener("load",o),this.removeEventListener("timeout",i);let t=e._xhrMem.get(this);t&&(t.callbackToRemoveEvents=void 0),a.createdResources&&a.createdResources.observer.disconnect()},e._addHeaders(this,l),e._addResourceObserver(this,l)})}return t.apply(this,s)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),tB(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),tB(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}var ng=n(15667);class nv extends nm{constructor(e={}){super(e),this.parentCreateSpan=this._createSpan.bind(this)}_patchOpen(){return e=>{let t=this;return function(...n){try{let e=n[0],r=(0,ng.iM)(n[1]);t.parentCreateSpan(this,r,e)}catch(e){tE.P.internalLogger.error(e)}return e.apply(this,n)}}}}function nb(e,t){null!=t&&(0===t||t>=400&&t<600)&&e.setStatus({code:l.ERROR})}var ny=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class n_ extends tm.i{constructor(e={}){super(),this.options=e,this.name="@grafana/faro-web-tracing",this.version=tg.x}initialize(){var e,t,n,r,i;let o=this.options,s={};this.config.app.name&&(s[ei.UX]=this.config.app.name),this.config.app.namespace&&(s["service.namespace"]=this.config.app.namespace),this.config.app.version&&(s[ei.HZ]=this.config.app.version),this.config.app.environment&&(s["deployment.environment.name"]=this.config.app.environment,s["deployment.environment"]=this.config.app.environment);let a=this.metas.value.browser;(0,tv.cy)(null==a?void 0:a.brands)&&(s["browser.brands"]=a.brands.map(e=>e.brand)),(null==a?void 0:a.language)&&(s["browser.language"]=a.language),"boolean"==typeof(null==a?void 0:a.mobile)&&(s["browser.mobile"]=!!a.mobile),(null==a?void 0:a.os)&&(s["browser.platform"]=a.os),(null==a?void 0:a.userAgent)&&(s[ei.Mz]=a.userAgent),s["process.runtime.name"]="browser",s["process.runtime.version"]=null==(e=this.metas.value.browser)?void 0:e.userAgent,s["telemetry.distro.name"]="faro-web-sdk",s["telemetry.distro.version"]=tg.x,Object.assign(s,o.resourceAttributes),new tc({resource:el().merge(eu(s)),sampler:{shouldSample:()=>({decision:function(e={}){var t;return(null==(t=e.attributes)?void 0:t.isSampled)==="true"?c.RECORD_AND_SAMPLED:c.NOT_RECORD}(this.api.getSession())})},spanProcessors:[null!=(t=o.spanProcessor)?t:new tC(new tb(new th(new tT({api:this.api}),{scheduledDelayMillis:n_.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas))]}).register({propagator:null!=(n=o.propagator)?n:new w.lm,contextManager:o.contextManager});let{propagateTraceHeaderCorsUrls:u,fetchInstrumentationOptions:l,xhrInstrumentationOptions:d}=null!=(r=this.options.instrumentationOptions)?r:{};!function(e){let t=e.tracerProvider||_.u.getTracerProvider(),n=e.meterProvider||G.getMeterProvider(),r=e.loggerProvider||en.getLoggerProvider(),i=e.instrumentations?.flat()??[];for(let e=0,o=i.length;e<o;e++){let o=i[e];t&&o.setTracerProvider(t),n&&o.setMeterProvider(n),r&&o.setLoggerProvider&&o.setLoggerProvider(r),o.getConfig().enabled||o.enable()}}({instrumentations:null!=(i=o.instrumentations)?i:function(e={}){var t,n,r,i;let{fetchInstrumentationOptions:o,xhrInstrumentationOptions:s}=e,a=ny(e,["fetchInstrumentationOptions","xhrInstrumentationOptions"]),u=(t=o,Object.assign(Object.assign(Object.assign(Object.assign({},a),{ignoreNetworkEvents:!0}),t),{applyCustomAttributesOnSpan:(n=null==t?void 0:t.applyCustomAttributesOnSpan,(e,t,r)=>{nb(e,r instanceof Error?0:r.status),null==n||n(e,t,r)})})),l=(r=s,Object.assign(Object.assign(Object.assign(Object.assign({},a),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:(i=null==r?void 0:r.applyCustomAttributesOnSpan,(e,t)=>{nb(e,t.status),null==i||i(e,t)})}));return[new t5(u),new nv(l)]}({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:u,fetchInstrumentationOptions:l,xhrInstrumentationOptions:d})}),this.api.initOTEL(_.u,S._)}getIgnoreUrls(){return this.transports.transports.flatMap(e=>e.getIgnoreUrls())}}n_.SCHEDULED_BATCH_DELAY_MS=1e3},24757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r=Object.assign({},console)},25575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(84931)._(n(97007));function i(e,t){var n;let i={};"function"==typeof e&&(i.loader=e);let o={...i,...t};return(0,r.default)({...o,modules:null==(n=o.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26631:(e,t)=>{"use strict";function n(e){return Object.keys(e).map(t=>r(t,e[t]))}function r(e,t){return{key:e,value:i(t)}}function i(e){let t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(i)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map(([e,t])=>r(e,t))}}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.toAnyValue=t.toKeyValue=t.toAttributes=t.createInstrumentationScope=t.createResource=void 0,t.createResource=function(e){return{attributes:n(e.attributes),droppedAttributesCount:0}},t.createInstrumentationScope=function(e){return{name:e.name,version:e.version}},t.toAttributes=n,t.toKeyValue=r,t.toAnyValue=i},28090:(e,t,n)=>{"use strict";var r;n.d(t,{X:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},29156:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(38280),i=n(99500),o=n(20870);function s(e,t){let n=null==e?void 0:e.includes(o.ld),r=!n&&(null==e?void 0:e.includes(o.HS));return n||r?[(null==e?void 0:e.includes(o.xQ))?e.split(o.xQ)[0]:e,n?`${o.ld}:${t}`:`${o.HS}:${t}`]:[e,t]}function a(e){let t=[];e.stacktrace?t=e.stacktrace.split(o.k4).filter((e,t)=>t%2==0):e.stack&&(t=e.stack.split(o.k4));let n=t.reduce((t,n,a)=>{let u,l,c,d,f;if(u=o.cB.exec(n)){if(l=u[1],c=u[2],d=u[3],f=u[4],null==c?void 0:c.startsWith(o.Wo)){let e=o.Sy.exec(c);e&&(c=e[1],d=e[2],f=e[3])}c=(null==c?void 0:c.startsWith(o.tE))?c.substring(o.bz):c,[l,c]=s(l,c)}else if(u=o.N9.exec(n)){if(l=u[1],c=u[3],d=u[4],f=u[5],c&&c.includes(o.rD)){let e=o.Lo.exec(c);e&&(l=l||o.Wf,c=e[1],d=e[2])}else 0===a&&!f&&(0,r.Et)(e.columnNumber)&&(f=String(e.columnNumber+1));[l,c]=s(l,c)}return(c||l)&&t.push((0,i.S)(c,l,d?Number(d):void 0,f?Number(f):void 0)),t},[]);return o.mZ.test(e.message)?n.slice(1):n}},30278:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(52106),i=n(52186),o=n(9874),s=n(753),a=n(77794),u=n(72557);class l{constructor(){this.updateSession=(0,o.n)(()=>this.updateUserSession(),a.MM),this.updateUserSession=(0,u.vP)({fetchUserSession:l.fetchUserSession,storeUserSession:l.storeUserSession}),this.init()}static removeUserSession(){(0,s.Ai)(a.AQ,l.storageTypeLocal)}static storeUserSession(e){(0,s.SO)(a.AQ,(0,r.xD)(e),l.storageTypeLocal)}static fetchUserSession(){let e=(0,s.Gq)(a.AQ,l.storageTypeLocal);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),i.P.metas.addListener((0,u.h$)({fetchUserSession:l.fetchUserSession,storeUserSession:l.storeUserSession}))}}l.storageTypeLocal=s.Uy.local},31266:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});let r="unknown"},35103:(e,t,n)=>{"use strict";let r;n.d(t,{w:()=>t7});var i=n(9639),o=n(74246),s=n(52186),a=n(76152),u=n(43051),l=n(89513),c=n(8406),d=n(22915),f=n(52106),p=n(75670),h=n(15667);let m="fetch";var g=n(31266),v=n(753);let b="com.grafana.faro.lastNavigationId",y="resource";var _=n(38280);let S=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function w(e=[]){for(let t of e)if("traceparent"===t.name){if(!S.test(t.description))continue;let[,e,n]=t.description.split("-");if(null!=e&&null!=n)return{traceId:e,spanId:n};break}}function E(e){let t,{connectEnd:n,connectStart:r,decodedBodySize:i,domainLookupEnd:o,domainLookupStart:s,duration:a,encodedBodySize:u,fetchStart:l,initiatorType:c,name:d,nextHopProtocol:f,redirectEnd:p,redirectStart:h,renderBlockingStatus:m,requestStart:g,responseEnd:v,responseStart:b,responseStatus:y,secureConnectionStart:_,transferSize:S,workerStart:w}=e;return{name:d,duration:T(a),tcpHandshakeTime:T(n-r),dnsLookupTime:T(o-s),tlsNegotiationTime:T(n-_),responseStatus:T(y),redirectTime:T(p-h),requestTime:T(b-g),responseTime:T(v-b),fetchTime:T(v-l),serviceWorkerTime:T(l-w),decodedBodySize:T(i),encodedBodySize:T(u),cacheHitStatus:(t="fullLoad",0===S?i>0&&(t="cache"):null!=y?304===y&&(t="conditionalFetch"):u>0&&S<u&&(t="conditionalFetch"),t),renderBlockingStatus:T(m),protocol:f,initiatorType:c,visibilityState:document.visibilityState,ttfb:T(b-g),transferSize:T(S)}}function T(e){return null==e?g.y:"number"==typeof e?Math.round(e>0?e:0).toString():e.toString()}let O={initiatorType:["xmlhttprequest","fetch"]},A=new d.c;class C extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=o.x}initialize(){if(!("PerformanceObserver"in window))return void this.logDebug("performance observer not supported. Disable performance instrumentation.");var e=()=>{var e,t,n,r;return e=this,t=void 0,n=void 0,r=function*(){let e=this.api.pushEvent,{faroNavigationId:t}=yield function(e){let t,n=new Promise(e=>{t=e});return new PerformanceObserver(n=>{var r;let[i]=n.getEntries();if(null==i||(0,h.Ki)(i.name))return;let o=i.toJSON(),s=w(null==o?void 0:o.serverTiming),a=null!=(r=(0,v.Gq)(b,v.Uy.session))?r:g.y,l=Object.assign(Object.assign({},function(e){var t;let{activationStart:n,domComplete:r,domContentLoadedEventEnd:i,domContentLoadedEventStart:o,domInteractive:s,fetchStart:a,loadEventEnd:u,loadEventStart:l,responseStart:c,type:d}=e,f=(null==(t=performance.timing)?void 0:t.domLoading)!=null?performance.timing.domLoading-performance.timeOrigin:null;return Object.assign(Object.assign({},E(e)),{pageLoadTime:T(r-a),documentParsingTime:T(f?s-f:null),domProcessingTime:T(r-s),domContentLoadHandlerTime:T(i-o),onLoadTime:T(u-l),ttfb:T(Math.max(c-(null!=n?n:0),0)),type:d})}(o)),{faroNavigationId:(0,u.S)(),faroPreviousNavigationId:a});(0,v.SO)(b,l.faroNavigationId,v.Uy.session),e("faro.performance.navigation",l,void 0,{spanContext:s,timestampOverwriteMs:performance.timeOrigin+o.startTime}),t(l)}).observe({type:"navigation",buffered:!0}),n}(e);null!=t&&function(e,t,n){let r=s.P.config.trackResources;new PerformanceObserver(i=>{for(let o of i.getEntries()){if((0,h.Ki)(o.name))return;let i=o.toJSON(),a=w(null==i?void 0:i.serverTiming);if(null==r&&function(e,t={}){for(let[n,r]of Object.entries(t)){let t=e[n];if(null==t)return!1;if((0,_.cy)(r))return r.includes(t);return t===r}return!0}(i,O)||r){let r=Object.assign(Object.assign({},E(i)),{faroNavigationId:e,faroResourceId:(0,u.S)()});s.P.config.trackUserActionsPreview&&(null==n||n.notify({type:y})),t("faro.performance.resource",r,void 0,{spanContext:a,timestampOverwriteMs:performance.timeOrigin+i.startTime})}}}).observe({type:y,buffered:!0})}(t,e,A)},new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};if("complete"===document.readyState)e();else{let t=()=>{"complete"===document.readyState&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}}function x(e){let{api:t,userActionName:n,startTime:r,endTime:i,actionId:o,event:s,attributes:a}=e,u=i-r,d=s.type;l.Q.notify({type:c.$g,name:n,id:o,startTime:r,endTime:i,duration:u,eventType:d}),t.pushEvent(n,Object.assign({userActionStartTime:r.toString(),userActionEndTime:i.toString(),userActionDuration:u.toString(),userActionTrigger:d},(0,f.Ti)(a)),void 0,{timestampOverwriteMs:r,customPayloadTransformer:e=>(e.action={id:o,name:n},e)})}function L(e,t,n){return e&&clearTimeout(e),e=setTimeout(()=>{t()},n)}function R(e){null==e||e.unsubscribe()}function P(e){return e.type===p.IU}class I extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-user-action",this.version=o.x}initialize(){r=function(e){let t,{api:n,config:r}=e,i=function(){let e=new d.c;function t(t){e.notify({type:p.HU,request:t})}function n(t){e.notify({type:p.IU,request:t})}return function({onRequestEnd:e,onRequestStart:t}){let n=window.fetch;window.fetch=function(){var r,i;let o=null!=(r=(0,h.iM)(arguments[0]))?r:"",s=(0,h.Ki)(o),a=(null!=(i=arguments[1])?i:{}).method,l=(0,u.S)();return s||t({url:o,method:a,requestId:l,apiType:m}),n.apply(this,arguments).then(t=>(s||e({url:o,method:a,requestId:l,apiType:m}),t)).catch(t=>{throw s||e({url:o,method:a,requestId:l,apiType:m}),t})}}({onRequestStart:t,onRequestEnd:n}),function({onRequestStart:e,onRequestEnd:t}){let n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){let r=arguments[1],i=(0,h.Ki)(r),o=arguments[0],s=(0,u.S)();this.addEventListener("loadstart",function(){i||e({url:r,method:o,requestId:s,apiType:"xhr"})}),this.addEventListener("load",function(){i||t({url:r,method:o,requestId:s,apiType:"xhr"})}),this.addEventListener("error",function(){i||t({url:r,method:o,requestId:s,apiType:"xhr"})}),this.addEventListener("abort",function(){i||t({url:r,method:o,requestId:s,apiType:"xhr"})}),n.apply(this,arguments)}}({onRequestStart:t,onRequestEnd:n}),e}(),o=function(){let e=new d.c;return new MutationObserver((t,n)=>{e.notify({type:p.I1})}).observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e}(),s=function(){let e=new d.c;return A.subscribe(t=>{t.type===y&&e.notify({type:p.vb})}),e}(),f=!1;return function(e){var h,m;let g,v,b,y=(m=e).type===p.sk&&"string"==typeof m.name;if(g=y?e.name:function(e,t){let n=function(e){let t=e.split("data-")[1],n=null==t?void 0:t.replace(/-(.)/g,(e,t)=>t.toUpperCase());return null==n?void 0:n.replace(/-/g,"")}(t),r=e.dataset;for(let e in r)if(e===n)return r[e]}(e.target,null!=(h=r.trackUserActionsDataAttributeName)?h:p.jJ),f||null==g)return;f=!0;let _=(0,a.x3)(),S=(0,u.S)();l.Q.notify({type:c.OV,name:g,startTime:_,parentId:S}),t=L(t,()=>{var e,t;v=(0,a.x3)(),f=!1,e=g,t=S,l.Q.notify({type:c._G,name:e,parentId:t})},100);let w=new Map,E=!1,T=new d.c().merge(i,o,s).takeWhile(()=>f).filter(e=>!E||!!(P(e)&&w.has(e.request.requestId))).subscribe(r=>{r.type===p.HU&&w.set(r.request.requestId,r.request),P(r)&&w.delete(r.request.requestId),t=L(t,()=>{let t=Object.assign({api:n,userActionName:g,startTime:_,endTime:v=(0,a.x3)(),actionId:S,event:e},y?{attributes:e.attributes}:{}),r=w.size>0;E&&!r&&(clearTimeout(b),E=!1),r?(E=!0,l.Q.notify({type:c.vX,name:g,parentId:S,reason:"pending-requests",haltTime:(0,a.x3)()}),b=L(void 0,()=>{R(T),x(t),f=!1,E=!1},1e4)):(R(T),x(t),f=!1,E=!1)},100)})}}(s.P),window.addEventListener("pointerdown",r),window.addEventListener("keydown",r)}}let N=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;var k=n(94237),D=n(29156),M=n(99500);function j(e){let t,n,r,i,o=[];if((0,_.T2)(e)&&e.error)t=e.error.message,n=e.error.name,o=(0,D.D)(e.error);else if((r=(0,_.pp)(e))||(0,_.wX)(e)){let{name:i,message:o}=e;n=null!=i?i:r?"DOMError":"DOMException",t=o?`${n}: ${o}`:n}else(0,_.bJ)(e)?(t=e.message,o=(0,D.D)(e)):((0,_.Gv)(e)||(i=(0,_.xH)(e)))&&(n=i?e.constructor.name:void 0,t=`Non-Error exception captured with keys: ${Object.keys(e)}`);return[t,n,o]}function U(e){let t,n,[r,i,o,s,a]=e,u=[],l=(0,_.Kg)(r),c=(0,M.S)(i,"?",o,s);return a||!l?([t,n,u]=j(null!=a?a:r),0===u.length&&(u=[c])):l&&([t,n]=function(e){var t,n;let r=e.match(N),i=null!=(t=null==r?void 0:r[1])?t:k.x;return[null!=(n=null==r?void 0:r[2])?n:e,i]}(r),u=[c]),{value:t,type:n,stackFrames:u}}function B(e,t){return(0,_.bJ)(e[0])?U(e):{value:t(e)}}class $ extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=o.x}initialize(){this.logDebug("Initializing");var e,t=this.api;let n=window.onerror;window.onerror=(...e)=>{try{let{value:n,type:r,stackFrames:i}=U(e),o=e[4];if(n){let e={type:r,stackFrames:i};null!=o&&(e.originalError=o),t.pushError(Error(n),e)}}finally{null==n||n.apply(window,e)}},e=this.api,window.addEventListener("unhandledrejection",t=>{var n,r;let i,o,s=t;s.reason?s=t.reason:(null==(n=t.detail)?void 0:n.reason)&&(s=null==(r=t.detail)?void 0:r.reason);let a=[];(0,_.sO)(s)?(i=`Non-Error promise rejection captured with value: ${String(s)}`,o="UnhandledRejection"):[i,o,a]=j(s),i&&e.pushError(Error(i),{type:o,stackFrames:a})})}}var F,V,z,H,q,G=-1,K=function(e){addEventListener("pageshow",function(t){t.persisted&&(G=t.timeStamp,e(t))},!0)},W=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},X=function(){var e=W();return e&&e.activationStart||0},Z=function(e,t){var n=W(),r="navigate";return G>=0?r="back-forward-cache":n&&(document.prerendering||X()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},Q=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},J=function(e,t,n,r){var i,o;return function(s){var a;t.value>=0&&(s||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},Y=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},ee=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},et=function(e){var t=!1;return function(){t||(e(),t=!0)}},en=-1,er=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ei=function(e){"hidden"===document.visibilityState&&en>-1&&(en="visibilitychange"===e.type?e.timeStamp:0,es())},eo=function(){addEventListener("visibilitychange",ei,!0),addEventListener("prerenderingchange",ei,!0)},es=function(){removeEventListener("visibilitychange",ei,!0),removeEventListener("prerenderingchange",ei,!0)},ea=function(){return en<0&&(en=er(),eo(),K(function(){setTimeout(function(){en=er(),eo()},0)})),{get firstHiddenTime(){return en}}},eu=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},el=[1800,3e3],ec=function(e,t){t=t||{},eu(function(){var n,r=ea(),i=Z("FCP"),o=Q("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-X(),0),i.entries.push(e),n(!0)))})});o&&(n=J(e,i,el,t.reportAllChanges),K(function(r){n=J(e,i=Z("FCP"),el,t.reportAllChanges),Y(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},ed=[.1,.25],ef=0,ep=1/0,eh=0,em=function(e){e.forEach(function(e){e.interactionId&&(ep=Math.min(ep,e.interactionId),ef=(eh=Math.max(eh,e.interactionId))?(eh-ep)/7+1:0)})},eg=function(){return F?ef:performance.interactionCount||0},ev=function(){"interactionCount"in performance||F||(F=Q("event",em,{type:"event",buffered:!0,durationThreshold:0}))},eb=[],ey=new Map,e_=0,eS=function(){var e=Math.min(eb.length-1,Math.floor((eg()-e_)/50));return eb[e]},ew=[],eE=function(e){if(ew.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=eb[eb.length-1],n=ey.get(e.interactionId);if(n||eb.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ey.set(r.id,r),eb.push(r)}eb.sort(function(e,t){return t.latency-e.latency}),eb.length>10&&eb.splice(10).forEach(function(e){return ey.delete(e.id)})}}},eT=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=et(e),"hidden"===document.visibilityState?e():(n=t(e),ee(e)),n},eO=[200,500],eA=[2500,4e3],eC={},ex=[800,1800],eL=function e(t){document.prerendering?eu(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},eR={passive:!0,capture:!0},eP=new Date,eI=function(e,t){V||(V=t,z=e,H=new Date,eD(removeEventListener),eN())},eN=function(){if(z>=0&&z<H-eP){var e={entryType:"first-input",name:V.type,target:V.target,cancelable:V.cancelable,startTime:V.timeStamp,processingStart:V.timeStamp+z};q.forEach(function(t){t(e)}),q=[]}},ek=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){eI(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,eR),removeEventListener("pointercancel",n,eR)},addEventListener("pointerup",t,eR),addEventListener("pointercancel",n,eR)):eI(i,e)}},eD=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,ek,eR)})},eM=[100,300];class ej{constructor(e,t){this.pushMeasurement=e,this.webVitalConfig=t}initialize(){Object.entries(ej.mapping).forEach(([e,t])=>{var n;t(t=>{this.pushMeasurement({type:"web-vitals",values:{[e]:t.value}})},{reportAllChanges:null==(n=this.webVitalConfig)?void 0:n.reportAllChanges})})}}ej.mapping={cls:function(e,t){t=t||{},ec(et(function(){var n,r=Z("CLS",0),i=0,o=[],s=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}}),i>r.value&&(r.value=i,r.entries=o,n())},a=Q("layout-shift",s);a&&(n=J(e,r,ed,t.reportAllChanges),ee(function(){s(a.takeRecords()),n(!0)}),K(function(){i=0,n=J(e,r=Z("CLS",0),ed,t.reportAllChanges),Y(function(){return n()})}),setTimeout(n,0))}))},fcp:ec,fid:function(e,t){t=t||{},eu(function(){var n,r=ea(),i=Z("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=function(e){e.forEach(o)},a=Q("first-input",s);n=J(e,i,eM,t.reportAllChanges),a&&(ee(et(function(){s(a.takeRecords()),a.disconnect()})),K(function(){n=J(e,i=Z("FID"),eM,t.reportAllChanges),q=[],z=-1,V=null,eD(addEventListener),q.push(o),eN()}))})},inp:function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},eu(function(){ev();var n,r,i=Z("INP"),o=function(e){eT(function(){e.forEach(eE);var t=eS();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())})},s=Q("event",o,{durationThreshold:null!=(n=t.durationThreshold)?n:40});r=J(e,i,eO,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),ee(function(){o(s.takeRecords()),r(!0)}),K(function(){e_=eg(),eb.length=0,ey.clear(),r=J(e,i=Z("INP"),eO,t.reportAllChanges)}))}))},lcp:function(e,t){t=t||{},eu(function(){var n,r=ea(),i=Z("LCP"),o=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-X(),0),i.entries=[e],n())})},s=Q("largest-contentful-paint",o);if(s){n=J(e,i,eA,t.reportAllChanges);var a=et(function(){eC[i.id]||(o(s.takeRecords()),s.disconnect(),eC[i.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return eT(a)},{once:!0,capture:!0})}),ee(a),K(function(r){n=J(e,i=Z("LCP"),eA,t.reportAllChanges),Y(function(){i.value=performance.now()-r.timeStamp,eC[i.id]=!0,n(!0)})})}})},ttfb:function(e,t){t=t||{};var n=Z("TTFB"),r=J(e,n,ex,t.reportAllChanges);eL(function(){var i=W();i&&(n.value=Math.max(i.responseStart-X(),0),n.entries=[i],r(!0),K(function(){(r=J(e,n=Z("TTFB",0),ex,t.reportAllChanges))(!0)}))})}};var eU,eB,e$=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},eF=function(e){if("loading"===document.readyState)return"loading";var t=e$();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},eV=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ez=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:eV(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},eH=-1,eq=function(){return eH},eG=function(e){addEventListener("pageshow",function(t){t.persisted&&(eH=t.timeStamp,e(t))},!0)},eK=function(){var e=e$();return e&&e.activationStart||0},eW=function(e,t){var n=e$(),r="navigate";return eq()>=0?r="back-forward-cache":n&&(document.prerendering||eK()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},eX=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},eZ=function(e,t,n,r){var i,o;return function(s){var a;t.value>=0&&(s||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},eQ=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},eJ=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},eY=function(e){var t=!1;return function(){t||(e(),t=!0)}},e0=-1,e1=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},e2=function(e){"hidden"===document.visibilityState&&e0>-1&&(e0="visibilitychange"===e.type?e.timeStamp:0,e6())},e3=function(){addEventListener("visibilitychange",e2,!0),addEventListener("prerenderingchange",e2,!0)},e6=function(){removeEventListener("visibilitychange",e2,!0),removeEventListener("prerenderingchange",e2,!0)},e9=function(){return e0<0&&(e0=e1(),e3(),eG(function(){setTimeout(function(){e0=e1(),e3()},0)})),{get firstHiddenTime(){return e0}}},e4=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},e5=[1800,3e3],e8=function(e,t){t=t||{},e4(function(){var n,r=e9(),i=eW("FCP"),o=eX("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-eK(),0),i.entries.push(e),n(!0)))})});o&&(n=eZ(e,i,e5,t.reportAllChanges),eG(function(r){n=eZ(e,i=eW("FCP"),e5,t.reportAllChanges),eQ(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},e7=[.1,.25],te=function(e,t){var n,r;n=function(t){e(function(e){var t,n={};if(e.entries.length){var r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];i&&(n={largestShiftTarget:ez(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:eF(r.startTime)})}}return Object.assign(e,{attribution:n})}(t))},r=(r=t)||{},e8(eY(function(){var e,t=eW("CLS",0),i=0,o=[],s=function(n){n.forEach(function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}}),i>t.value&&(t.value=i,t.entries=o,e())},a=eX("layout-shift",s);a&&(e=eZ(n,t,e7,r.reportAllChanges),eJ(function(){s(a.takeRecords()),e(!0)}),eG(function(){i=0,e=eZ(n,t=eW("CLS",0),e7,r.reportAllChanges),eQ(function(){return e()})}),setTimeout(e,0))}))},tt=function(e,t){e8(function(t){e(function(e){var t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:eF(eq())};if(e.entries.length){var n=e$(),r=e.entries[e.entries.length-1];if(n){var i=n.activationStart||0,o=Math.max(0,n.responseStart-i);t={timeToFirstByte:o,firstByteToFCP:e.value-o,loadState:eF(e.entries[0].startTime),navigationEntry:n,fcpEntry:r}}}return Object.assign(e,{attribution:t})}(t))},t)},tn=0,tr=1/0,ti=0,to=function(e){e.forEach(function(e){e.interactionId&&(tr=Math.min(tr,e.interactionId),tn=(ti=Math.max(ti,e.interactionId))?(ti-tr)/7+1:0)})},ts=function(){return eU?tn:performance.interactionCount||0},ta=function(){"interactionCount"in performance||eU||(eU=eX("event",to,{type:"event",buffered:!0,durationThreshold:0}))},tu=[],tl=new Map,tc=0,td=function(){var e=Math.min(tu.length-1,Math.floor((ts()-tc)/50));return tu[e]},tf=[],tp=function(e){if(tf.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=tu[tu.length-1],n=tl.get(e.interactionId);if(n||tu.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};tl.set(r.id,r),tu.push(r)}tu.sort(function(e,t){return t.latency-e.latency}),tu.length>10&&tu.splice(10).forEach(function(e){return tl.delete(e.id)})}}},th=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=eY(e),"hidden"===document.visibilityState?e():(n=t(e),eJ(e)),n},tm=[200,500],tg=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},e4(function(){ta();var n,r,i=eW("INP"),o=function(e){th(function(){e.forEach(tp);var t=td();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())})},s=eX("event",o,{durationThreshold:null!=(n=t.durationThreshold)?n:40});r=eZ(e,i,tm,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),eJ(function(){o(s.takeRecords()),r(!0)}),eG(function(){tc=ts(),tu.length=0,tl.clear(),r=eZ(e,i=eW("INP"),tm,t.reportAllChanges)}))}))},tv=[],tb=[],ty=0,t_=new WeakMap,tS=new Map,tw=-1,tE=function(e){tv=tv.concat(e),tT()},tT=function(){tw<0&&(tw=th(tO))},tO=function(){tS.size>10&&tS.forEach(function(e,t){tl.has(t)||tS.delete(t)});var e=tu.map(function(e){return t_.get(e.entries[0])}),t=tb.length-50;tb=tb.filter(function(n,r){return r>=t||e.includes(n)});for(var n=new Set,r=0;r<tb.length;r++){var i=tb[r];tR(i.startTime,i.processingEnd).forEach(function(e){n.add(e)})}var o=tv.length-1-50;tv=tv.filter(function(e,t){return e.startTime>ty&&t>o||n.has(e)}),tw=-1};tf.push(function(e){e.interactionId&&e.target&&!tS.has(e.interactionId)&&tS.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;ty=Math.max(ty,e.processingEnd);for(var r=tb.length-1;r>=0;r--){var i=tb[r];if(8>=Math.abs(n-i.renderTime)){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},tb.push(t)),(e.interactionId||"first-input"===e.entryType)&&t_.set(e,t),tT()});var tA,tC,tx,tL,tR=function(e,t){for(var n,r=[],i=0;n=tv[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},tP=function(e,t){eB||(eB=eX("long-animation-frame",tE)),tg(function(t){var n,r,i,o,s,a,u,l,c,d;e((n=t.entries[0],r=t_.get(n),i=n.processingStart,o=r.processingEnd,s=r.entries.sort(function(e,t){return e.processingStart-t.processingStart}),a=tR(n.startTime,o),l=(u=t.entries.find(function(e){return e.target}))&&u.target||tS.get(n.interactionId),c=[n.startTime+n.duration,o].concat(a.map(function(e){return e.startTime+e.duration})),d=Math.max.apply(Math,c),Object.assign(t,{attribution:{interactionTarget:ez(l),interactionTargetElement:l,interactionType:n.name.startsWith("key")?"keyboard":"pointer",interactionTime:n.startTime,nextPaintTime:d,processedEventEntries:s,longAnimationFrameEntries:a,inputDelay:i-n.startTime,processingDuration:o-i,presentationDelay:Math.max(d-o,0),loadState:eF(n.startTime)}})))},t)},tI=[2500,4e3],tN={},tk=function(e,t){var n,r;n=function(t){e(function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=e$();if(n){var r=n.activationStart||0,i=e.entries[e.entries.length-1],o=i.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===i.url})[0],s=Math.max(0,n.responseStart-r),a=Math.max(s,o?(o.requestStart||o.startTime)-r:0),u=Math.max(a,o?o.responseEnd-r:0),l=Math.max(u,i.startTime-r);t={element:ez(i.element),timeToFirstByte:s,resourceLoadDelay:a-s,resourceLoadDuration:u-a,elementRenderDelay:l-u,navigationEntry:n,lcpEntry:i},i.url&&(t.url=i.url),o&&(t.lcpResourceEntry=o)}}return Object.assign(e,{attribution:t})}(t))},r=(r=t)||{},e4(function(){var e,t=e9(),i=eW("LCP"),o=function(n){r.reportAllChanges||(n=n.slice(-1)),n.forEach(function(n){n.startTime<t.firstHiddenTime&&(i.value=Math.max(n.startTime-eK(),0),i.entries=[n],e())})},s=eX("largest-contentful-paint",o);if(s){e=eZ(n,i,tI,r.reportAllChanges);var a=eY(function(){tN[i.id]||(o(s.takeRecords()),s.disconnect(),tN[i.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return th(a)},{once:!0,capture:!0})}),eJ(a),eG(function(t){e=eZ(n,i=eW("LCP"),tI,r.reportAllChanges),eQ(function(){i.value=performance.now()-t.timeStamp,tN[i.id]=!0,e(!0)})})}})},tD=[800,1800],tM=function e(t){document.prerendering?e4(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},tj=function(e,t){t=t||{};var n=eW("TTFB"),r=eZ(e,n,tD,t.reportAllChanges);tM(function(){var i=e$();i&&(n.value=Math.max(i.responseStart-eK(),0),n.entries=[i],r(!0),eG(function(){(r=eZ(e,n=eW("TTFB",0),tD,t.reportAllChanges))(!0)}))})},tU=function(e,t){tj(function(t){e(function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var n=e.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),o=Math.max(n.domainLookupStart-r,0),s=Math.max(n.connectStart-r,0),a=Math.max(n.connectEnd-r,0);t={waitingDuration:i,cacheDuration:o-i,dnsDuration:s-o,connectionDuration:a-s,requestDuration:e.value-a,navigationEntry:n}}return Object.assign(e,{attribution:t})}(t))},t)},tB={passive:!0,capture:!0},t$=new Date,tF=function(e,t){tA||(tA=t,tC=e,tx=new Date,tH(removeEventListener),tV())},tV=function(){if(tC>=0&&tC<tx-t$){var e={entryType:"first-input",name:tA.type,target:tA.target,cancelable:tA.cancelable,startTime:tA.timeStamp,processingStart:tA.timeStamp+tC};tL.forEach(function(t){t(e)}),tL=[]}},tz=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){tF(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,tB),removeEventListener("pointercancel",n,tB)},addEventListener("pointerup",t,tB),addEventListener("pointercancel",n,tB)):tF(i,e)}},tH=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,tz,tB)})},tq=[100,300],tG=function(e,t){t=t||{},e4(function(){var n,r=e9(),i=eW("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=function(e){e.forEach(o)},a=eX("first-input",s);n=eZ(e,i,tq,t.reportAllChanges),a&&(eJ(eY(function(){s(a.takeRecords()),a.disconnect()})),eG(function(){n=eZ(e,i=eW("FID"),tq,t.reportAllChanges),tL=[],tC=-1,tA=null,tH(addEventListener),tL.push(o),tV()}))})},tK=function(e,t){tG(function(t){var n;e((n=t.entries[0],Object.assign(t,{attribution:{eventTarget:ez(n.target),eventType:n.name,eventTime:n.startTime,eventEntry:n,loadState:eF(n.startTime)}})))},t)};let tW="load_state",tX="time_to_first_byte";class tZ{constructor(e,t){this.corePushMeasurement=e,this.webVitalConfig=t}initialize(){this.measureCLS(),this.measureFCP(),this.measureFID(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){var e;te(e=>{let{loadState:t,largestShiftValue:n,largestShiftTime:r,largestShiftTarget:i}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"largest_shift_value",n),this.addIfPresent(o,"largest_shift_time",r);let s=this.buildInitialContext(e);this.addIfPresent(s,tW,t),this.addIfPresent(s,"largest_shift_target",i),this.pushMeasurement(o,s)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureFCP(){var e;tt(e=>{let{firstByteToFCP:t,timeToFirstByte:n,loadState:r}=e.attribution,i=this.buildInitialValues(e);this.addIfPresent(i,"first_byte_to_fcp",t),this.addIfPresent(i,tX,n);let o=this.buildInitialContext(e);this.addIfPresent(o,tW,r),this.pushMeasurement(i,o)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureFID(){var e;tK(e=>{let{eventTime:t,eventTarget:n,eventType:r,loadState:i}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"event_time",t);let s=this.buildInitialContext(e);this.addIfPresent(s,"event_target",n),this.addIfPresent(s,"event_type",r),this.addIfPresent(s,tW,i),this.pushMeasurement(o,s)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureINP(){var e;tP(e=>{let{interactionTime:t,presentationDelay:n,inputDelay:r,processingDuration:i,nextPaintTime:o,loadState:s,interactionTarget:a,interactionType:u}=e.attribution,l=this.buildInitialValues(e);this.addIfPresent(l,"interaction_time",t),this.addIfPresent(l,"presentation_delay",n),this.addIfPresent(l,"input_delay",r),this.addIfPresent(l,"processing_duration",i),this.addIfPresent(l,"next_paint_time",o);let c=this.buildInitialContext(e);this.addIfPresent(c,tW,s),this.addIfPresent(c,"interaction_target",a),this.addIfPresent(c,"interaction_type",u),this.pushMeasurement(l,c)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureLCP(){var e;tk(e=>{let{elementRenderDelay:t,resourceLoadDelay:n,resourceLoadDuration:r,timeToFirstByte:i,element:o}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"element_render_delay",t),this.addIfPresent(s,"resource_load_delay",n),this.addIfPresent(s,"resource_load_duration",r),this.addIfPresent(s,tX,i);let a=this.buildInitialContext(e);this.addIfPresent(a,"element",o),this.pushMeasurement(s,a)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}measureTTFB(){var e;tU(e=>{let{dnsDuration:t,connectionDuration:n,requestDuration:r,waitingDuration:i,cacheDuration:o}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"dns_duration",t),this.addIfPresent(s,"connection_duration",n),this.addIfPresent(s,"request_duration",r),this.addIfPresent(s,"waiting_duration",i),this.addIfPresent(s,"cache_duration",o);let a=this.buildInitialContext(e);this.pushMeasurement(s,a)},{reportAllChanges:null==(e=this.webVitalConfig)?void 0:e.reportAllChanges})}buildInitialValues(e){return{[e.name.toLowerCase()]:e.value,delta:e.delta}}buildInitialContext(e){var t;let n=null!=(t=(0,v.Gq)(b,v.Uy.session))?t:g.y;return{id:e.id,rating:e.rating,navigation_type:e.navigationType,navigation_entry_id:n}}pushMeasurement(e,t){this.corePushMeasurement({type:"web-vitals",values:e},{context:t})}addIfPresent(e,t,n){n&&(e[t]=n)}}class tQ extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=o.x}initialize(){this.logDebug("Initializing"),this.intializeWebVitalsInstrumentation().initialize()}intializeWebVitalsInstrumentation(){var e,t,n;return(null==(e=this.config)?void 0:e.trackWebVitalsAttribution)===!1||(null==(n=null==(t=this.config)?void 0:t.webVitalsInstrumentation)?void 0:n.trackAttribution)===!1?new ej(this.api.pushMeasurement,this.config.webVitalsInstrumentation):new tZ(this.api.pushMeasurement,this.config.webVitalsInstrumentation)}}var tJ=n(41254),tY=n(9778),t0=n(50871),t1=n(30278),t2=n(72557);class t3 extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=o.x}sendSessionStartEvent(e){var t,n;let r=e.session;if(r&&r.id!==(null==(t=this.notifiedSession)?void 0:t.id)){if(this.notifiedSession&&this.notifiedSession.id===(null==(n=r.attributes)?void 0:n.previousSession)){this.api.pushEvent(tJ.Td,{},void 0,{skipDedupe:!0}),this.notifiedSession=r;return}this.notifiedSession=r,this.api.pushEvent(tJ.Vl,{},void 0,{skipDedupe:!0})}}createInitialSession(e,t){var n,r,i,o,l,c,d,f,p,h;let m,g,v=e.fetchUserSession();if(t.persistent&&t.maxSessionPersistenceTime&&v){let e=(0,a.x3)();v.lastActivity<e-t.maxSessionPersistenceTime&&(t1.G.removeUserSession(),v=null)}if((0,t2.OW)(v)){let e=null==v?void 0:v.sessionId;g=(0,t2.Bc)({sessionId:e,isSampled:v.isSampled||!1,started:null==v?void 0:v.started});let i=null==v?void 0:v.sessionMeta,o=Object.assign(Object.assign({},null==(n=t.session)?void 0:n.overrides),null==i?void 0:i.overrides);g.sessionMeta=Object.assign(Object.assign({},t.session),{id:e,attributes:Object.assign(Object.assign(Object.assign({},null==(r=t.session)?void 0:r.attributes),null==i?void 0:i.attributes),{isSampled:g.isSampled.toString()}),overrides:o}),m=tJ.ki}else{let e=null!=(o=null==(i=t.session)?void 0:i.id)?o:({id:null!=(h=null==(p=null==(f=null==(d=s.P.config)?void 0:d.sessionTracking)?void 0:f.generateSessionId)?void 0:p.call(f))?h:(0,u.S)(),attributes:void 0}).id;g=(0,t2.Bc)({sessionId:e,isSampled:(0,tY.$)()});let n=null==(l=t.session)?void 0:l.overrides;g.sessionMeta=Object.assign({id:e,attributes:Object.assign({isSampled:g.isSampled.toString()},null==(c=t.session)?void 0:c.attributes)},n?{overrides:n}:{}),m=tJ.Vl}return{initialSession:g,lifecycleType:m}}registerBeforeSendHook(e){var t;let{updateSession:n}=new e;null==(t=this.transports)||t.addBeforeSendHooks(e=>{var t,r,i;n();let o=null==(t=e.meta.session)?void 0:t.attributes;if(o&&(null==o?void 0:o.isSampled)==="true"){let t=JSON.parse(JSON.stringify(e)),n=null==(r=t.meta.session)?void 0:r.attributes;return null==n||delete n.isSampled,0===Object.keys(null!=n?n:{}).length&&(null==(i=t.meta.session)||delete i.attributes),t}return null})}initialize(){this.logDebug("init session instrumentation");let e=this.config.sessionTracking;if(null==e?void 0:e.enabled){let t=(0,t0.R)(e);this.registerBeforeSendHook(t);let{initialSession:n,lifecycleType:r}=this.createInitialSession(t,e);t.storeUserSession(n);let i=n.sessionMeta;this.notifiedSession=i,this.api.setSession(i),r===tJ.Vl&&this.api.pushEvent(tJ.Vl,{},void 0,{skipDedupe:!0}),r===tJ.ki&&this.api.pushEvent(tJ.ki,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class t6 extends i.i{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=o.x}sendViewChangedEvent(e){var t,n,r,i;let o=e.view;o&&o.name!==(null==(t=this.notifiedView)?void 0:t.name)&&(this.api.pushEvent(tJ.wM,{fromView:null!=(r=null==(n=this.notifiedView)?void 0:n.name)?r:g.y,toView:null!=(i=o.name)?i:g.y},void 0,{skipDedupe:!0}),this.notifiedView=o)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}}class t9 extends i.i{constructor(){super(),this.name="@grafana/faro-web-sdk:instrumentation-csp",this.version=o.x}initialize(){document.addEventListener("securitypolicyviolation",this.securitypolicyviolationHandler.bind(this))}destroy(){document.removeEventListener("securitypolicyviolation",this.securitypolicyviolationHandler)}securitypolicyviolationHandler(e){this.api.pushEvent("securitypolicyviolation",(0,f.Ti)(e))}}var t4=n(42484),t5=n(83021);class t8 extends i.i{constructor(e={}){super(),this.options=e,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=o.x,this.errorSerializer=t4.Z}initialize(){var e,t,n,r;this.options=Object.assign(Object.assign({},this.options),this.config.consoleInstrumentation);let i=(null==(e=this.options)?void 0:e.serializeErrors)||!!(null==(t=this.options)?void 0:t.errorSerializer);this.errorSerializer=i?null!=(r=null==(n=this.options)?void 0:n.errorSerializer)?r:k.n:t4.Z,t5.HT.filter(e=>{var t,n;return!(null!=(n=null==(t=this.options)?void 0:t.disabledLevels)?n:t8.defaultDisabledLevels).includes(e)}).forEach(e=>{console[e]=(...t)=>{var n,r;try{if(e!==t5.$b.ERROR||(null==(n=this.options)?void 0:n.consoleErrorAsLog))if(e===t5.$b.ERROR&&(null==(r=this.options)?void 0:r.consoleErrorAsLog)){let{value:n,type:r,stackFrames:i}=B(t,this.errorSerializer);this.api.pushLog(n?[t8.consoleErrorPrefix+n]:t,{level:e,context:{value:null!=n?n:"",type:null!=r?r:"",stackFrames:(null==i?void 0:i.length)?(0,k.n)(i):""}})}else this.api.pushLog(t,{level:e});else{let{value:e,type:n,stackFrames:r}=B(t,this.errorSerializer);if(e&&!n&&!r)return void this.api.pushError(Error(t8.consoleErrorPrefix+e));this.api.pushError(Error(t8.consoleErrorPrefix+e),{type:n,stackFrames:r})}}catch(e){this.logError(e)}finally{this.unpatchedConsole[e](...t)}}})}}function t7(e={}){let t=[new I,new $,new tQ,new t3,new t6];return!1!==e.enablePerformanceInstrumentation&&t.unshift(new C),!1!==e.enableContentSecurityPolicyInstrumentation&&t.push(new t9),!1!==e.captureConsole&&t.push(new t8({disabledLevels:e.captureConsoleDisabledLevels})),t}t8.defaultDisabledLevels=[t5.$b.DEBUG,t5.$b.TRACE,t5.$b.LOG],t8.consoleErrorPrefix="console.error: "},38280:(e,t,n)=>{"use strict";function r(e,t){return typeof e===t}function i(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function o(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,{Ed:()=>r,Et:()=>u,Gv:()=>c,Im:()=>S,Kg:()=>a,Lm:()=>l,T2:()=>b,Tn:()=>d,bJ:()=>v,cy:()=>f,kZ:()=>s,pp:()=>y,sO:()=>p,wX:()=>_,xH:()=>m});let s=e=>r(e,"null"),a=e=>r(e,"string"),u=e=>r(e,"number")&&!isNaN(e)||r(e,"bigint"),l=e=>r(e,"boolean"),c=e=>!s(e)&&r(e,"object"),d=e=>r(e,"function"),f=e=>i(e,"Array"),p=e=>!c(e)&&!d(e),h="undefined"!=typeof Event,m=e=>h&&o(e,Event),g="undefined"!=typeof Error,v=e=>g&&o(e,Error),b=e=>i(e,"ErrorEvent"),y=e=>i(e,"DOMError"),_=e=>i(e,"DOMException");function S(e){return null==e||(f(e)||a(e)?0===e.length:!!c(e)&&0===Object.keys(e).length)}},41254:(e,t,n)=>{"use strict";n.d(t,{Td:()=>s,Vl:()=>i,ki:()=>o,nT:()=>a,wM:()=>r});let r="view_changed",i="session_start",o="session_resume",s="session_extend",a="service_name_override"},41923:(e,t,n)=>{"use strict";n.d(t,{UD:()=>l,ZI:()=>d,ZS:()=>u,lm:()=>f});var r=n(64759),i=n(23340),o=n(28090),s=n(10847),a=n(67774);let u="traceparent",l="tracestate",c=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function d(e){let t=c.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}class f{inject(e,t,n){let a=r.u.getSpanContext(e);if(!a||(0,s.Zf)(e)||!(0,i.YA)(a))return;let c=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||o.X.NONE).toString(16)}`;n.set(t,u,c),a.traceState&&n.set(t,l,a.traceState.serialize())}extract(e,t,n){let i=n.get(t,u);if(!i)return e;let o=Array.isArray(i)?i[0]:i;if("string"!=typeof o)return e;let s=d(o);if(!s)return e;s.isRemote=!0;let c=n.get(t,l);if(c){let e=Array.isArray(c)?c.join(","):c;s.traceState=new a.n("string"==typeof e?e:void 0)}return r.u.setSpanContext(e,s)}fields(){return[u,l]}}},42399:(e,t)=>{"use strict";function n(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBinary=void 0,t.hexToBinary=function(e){let t=new Uint8Array(e.length/2),r=0;for(let i=0;i<e.length;i+=2){let o=n(e.charCodeAt(i)),s=n(e.charCodeAt(i+1));t[r++]=o<<4|s}return t}},42484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r=e=>e.map(e=>{try{return String(e)}catch(e){return""}}).join(" ")},43051:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});let r="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function i(e=10){return Array.from(Array(e)).map(()=>r[Math.floor(Math.random()*r.length)]).join("")}},46216:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,L:()=>l});var r=n(90650),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=i(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=new e(this._entries);try{for(var a=o(r),u=a.next();!u.done;u=a.next()){var l=u.value;s._entries.delete(l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),a=Symbol("BaggageEntryMetadata"),u=r.K.instance();function l(e){return void 0===e&&(e={}),new s(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(u.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:a,toString:function(){return e}}}},46839:e=>{e.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}}},47651:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}(e))&&(r&&(r+=" "),r+=t);return r},o=(e,t)=>n=>{var o;if((null==t?void 0:t.variants)==null)return i(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:a}=t,u=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],i=null==a?void 0:a[e];if(null===t)return null;let o=r(t)||r(i);return s[e][o]}),l=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return i(e,u,null==t||null==(o=t.compoundVariants)?void 0:o.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...l}[t]):({...a,...l})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},48127:(e,t)=>{"use strict";t.BR=t.i1=void 0,function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(t.i1||(t.i1={})),function(e){e[e.STATUS_CODE_UNSET=0]="STATUS_CODE_UNSET",e[e.STATUS_CODE_OK=1]="STATUS_CODE_OK",e[e.STATUS_CODE_ERROR=2]="STATUS_CODE_ERROR"}(t.BR||(t.BR={}))},49216:(e,t,n)=>{"use strict";function r(){}n.d(t,{l:()=>r})},50664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useReportWebVitals",{enumerable:!0,get:function(){return o}});let r=n(7620),i=n(89723);function o(e){(0,r.useEffect)(()=>{(0,i.onCLS)(e),(0,i.onFID)(e),(0,i.onLCP)(e),(0,i.onINP)(e),(0,i.onFCP)(e),(0,i.onTTFB)(e)},[e])}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50871:(e,t,n)=>{"use strict";n.d(t,{R:()=>d});var r=n(30278),i=n(52106),o=n(52186),s=n(9874),a=n(753),u=n(77794),l=n(72557);class c{constructor(){this.updateSession=(0,s.n)(()=>this.updateUserSession(),u.MM),this.updateUserSession=(0,l.vP)({fetchUserSession:c.fetchUserSession,storeUserSession:c.storeUserSession}),this.init()}static removeUserSession(){(0,a.Ai)(u.AQ,c.storageTypeSession)}static storeUserSession(e){(0,a.SO)(u.AQ,(0,i.xD)(e),c.storageTypeSession)}static fetchUserSession(){let e=(0,a.Gq)(u.AQ,c.storageTypeSession);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),o.P.metas.addListener((0,l.h$)({fetchUserSession:c.fetchUserSession,storeUserSession:c.storeUserSession}))}}function d(e){return(null==e?void 0:e.persistent)?r.G:c}c.storageTypeSession=a.Uy.session},51975:(e,t,n)=>{e.exports=n(50664)},52106:(e,t,n)=>{"use strict";n.d(t,{Ti:()=>o,xD:()=>i});var r=n(38280);function i(e={}){return JSON.stringify(null!=e?e:{},function(){let e=new WeakSet;return function(t,n){if((0,r.Gv)(n)&&null!==n){if(e.has(n))return null;e.add(n)}return n}}())}function o(e={}){let t={};for(let[n,o]of Object.entries(e))t[n]=(0,r.Gv)(o)&&null!==o?i(o):String(o);return t}},52986:(e,t,n)=>{"use strict";n.d(t,{ErrorBoundary:()=>s,Xc:()=>a});var r=n(7620);let i=(0,r.createContext)(null),o={didCatch:!1,error:null};class s extends r.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=o}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];null==(t=(n=this.props).onReset)||t.call(n,{args:i,reason:"imperative-api"}),this.setState(o)}}componentDidCatch(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:r}=this.props;if(n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)){var i,s;null==(i=(s=this.props).onReset)||i.call(s,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(o)}}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:o}=this.props,{didCatch:s,error:a}=this.state,u=e;if(s){let e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)u=t(e);else if(n)u=(0,r.createElement)(n,e);else if(void 0!==o)u=o;else throw a}return(0,r.createElement)(i.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},u)}}function a(e,t){let n=(0,r.forwardRef)((n,i)=>(0,r.createElement)(s,t,(0,r.createElement)(e,{...n,ref:i}))),i=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary(".concat(i,")"),n}},56452:(e,t,n)=>{"use strict";function r(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),n(89800)},58773:(e,t,n)=>{"use strict";n.d(t,{$:()=>v});var r=n(21782),i=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),o={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},s={set:function(e,t,n){null!=e&&(e[t]=n)}},a=n(1398),u=(0,n(69366).n)("OpenTelemetry Baggage Key");function l(e){return e.getValue(u)||void 0}function c(){return l(a._.getInstance().active())}function d(e,t){return e.setValue(u,t)}function f(e){return e.deleteValue(u)}var p=n(46216),h=n(90650),m="propagation",g=new i,v=(function(){function e(){this.createBaggage=p.L,this.getBaggage=l,this.getActiveBaggage=c,this.setBaggage=d,this.deleteBaggage=f}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.$G)(m,e,h.K.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=s),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=o),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.kv)(m,h.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.mS)(m)||g},e})().getInstance()},59113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return a}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let i="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return i?new i:new r}function s(e){return i?i.bind(e):r.bind(e)}function a(){return i?i.snapshot():function(e,...t){return e(...t)}}},61989:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(22975),i=n(24757);class o{constructor(){this.unpatchedConsole=i.Z,this.internalLogger=r.vc,this.config={},this.metas={}}logDebug(...e){this.internalLogger.debug(`${this.name}
`,...e)}logInfo(...e){this.internalLogger.info(`${this.name}
`,...e)}logWarn(...e){this.internalLogger.warn(`${this.name}
`,...e)}logError(...e){this.internalLogger.error(`${this.name}
`,...e)}}},63042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=n(6035)},64759:(e,t,n)=>{"use strict";n.d(t,{u:()=>E});var r=n(21782),i=n(1398),o=n(69366),s=n(20079),a=(0,o.n)("OpenTelemetry Context Key SPAN");function u(e){return e.getValue(a)||void 0}function l(){return u(i._.getInstance().active())}function c(e,t){return e.setValue(a,t)}function d(e){return e.deleteValue(a)}function f(e,t){return c(e,new s.d(t))}function p(e){var t;return null==(t=u(e))?void 0:t.spanContext()}var h=n(23340),m=i._.getInstance(),g=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=m.active()),null==t?void 0:t.root)return new s.d;var r,i=n&&p(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,h.YA)(i)?new s.d(i):new s.d},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=n):(i=t,o=n,s=r);var i,o,s,a=null!=o?o:m.active(),u=this.startSpan(e,i,a),l=c(a,u);return m.with(l,s,void 0,u)}},e}(),v=new g,b=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):v},e}(),y=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new g},e}()),_=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new b(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:y},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),S=n(90650),w="trace",E=(function(){function e(){this._proxyTracerProvider=new _,this.wrapSpanContext=h.IP,this.isSpanContextValid=h.YA,this.deleteSpan=d,this.getSpan=u,this.getActiveSpan=l,this.getSpanContext=p,this.setSpan=c,this.setSpanContext=f}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.$G)(w,this._proxyTracerProvider,S.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.mS)(w)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.kv)(w,S.K.instance()),this._proxyTracerProvider=new _},e})().getInstance()},67774:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});let r="[_0-9a-z-*/]",i=`[a-z]${r}{0,255}`,o=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${i}|${o})$`),a=/^[ -~]{0,255}[!-~]$/,u=/,|=/;class l{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),o=n.slice(r+1,t.length);s.test(i)&&a.test(o)&&!u.test(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new l;return e._internalState=new Map(this._internalState),e}}},69366:(e,t,n)=>{"use strict";function r(e){return Symbol.for(e)}n.d(t,{l:()=>i,n:()=>r});var i=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}},69771:(e,t,n)=>{"use strict";t.sJ=void 0;let r=n(26631),i=n(92067);t.sJ=function(e,t){return{resourceSpans:function(e,t){let n=function(e){let t=new Map;for(let n of e){let e=t.get(n.resource);e||(e=new Map,t.set(n.resource,e));let r=`${n.instrumentationScope.name}@${n.instrumentationScope.version||""}:${n.instrumentationScope.schemaUrl||""}`,i=e.get(r);i||(i=[],e.set(r,i)),i.push(n)}return t}(e),i=[],o=n.entries(),s=o.next();for(;!s.done;){let[e,n]=s.value,a=[],u=n.values(),l=u.next();for(;!l.done;){let e=l.value;if(e.length>0){let n=e.map(e=>(function(e,t){let n=e.spanContext(),i=e.status,o=e.parentSpanContext?.spanId?t.encodeSpanContext(e.parentSpanContext?.spanId):void 0;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:o,traceState:n.traceState?.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,r.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(e=>(function(e,t){return{attributes:e.attributes?(0,r.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}})(e,t)),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map(e=>(function(e,t){return{attributes:e.attributes?(0,r.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:e.context.traceState?.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}})(e,t)),droppedLinksCount:e.droppedLinksCount}})(e,t));a.push({scope:(0,r.createInstrumentationScope)(e[0].instrumentationScope),spans:n,schemaUrl:e[0].instrumentationScope.schemaUrl})}l=u.next()}let c={resource:(0,r.createResource)(e),scopeSpans:a,schemaUrl:void 0};i.push(c),s=o.next()}return i}(e,(0,i.getOtlpEncoder)(t))}}},72557:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>f,OW:()=>p,h$:()=>g,vP:()=>h});var r=n(76152),i=n(52186),o=n(43051),s=n(38280),a=n(91438),u=n(41254),l=n(753),c=n(9778),d=n(77794);function f({sessionId:e,started:t,lastActivity:n,isSampled:s=!0}={}){var a,u;let l=(0,r.x3)(),c=null==(u=null==(a=i.P.config)?void 0:a.sessionTracking)?void 0:u.generateSessionId;return null==e&&(e="function"==typeof c?c():(0,o.S)()),{sessionId:e,lastActivity:null!=n?n:l,started:null!=t?t:l,isSampled:s}}function p(e){if(null==e)return!1;let t=(0,r.x3)();return t-e.started<d.Zl&&t-e.lastActivity<d.gG}function h({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:n}={forceSessionExtend:!1}){var o,s,a;if(!e||!t)return;let u=i.P.config.sessionTracking,d=null==u?void 0:u.persistent;if(d&&!l.OE||!d&&!l.Vv)return;let h=e();if(!1===n&&p(h))t(Object.assign(Object.assign({},h),{lastActivity:(0,r.x3)()}));else{let e=m(f({isSampled:(0,c.$)()}),h);t(e),null==(o=i.P.api)||o.setSession(e.sessionMeta),null==(s=null==u?void 0:u.onSessionChange)||s.call(u,null!=(a=null==h?void 0:h.sessionMeta)?a:null,e.sessionMeta)}}}function m(e,t){var n,r,o,a,u,l,c;let d=Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign({},null==(r=null==(n=i.P.config.sessionTracking)?void 0:n.session)?void 0:r.attributes),null!=(a=null==(o=i.P.metas.value.session)?void 0:o.attributes)?a:{}),{isSampled:e.isSampled.toString()})}}),f=null!=(l=null==(u=i.P.metas.value.session)?void 0:u.overrides)?l:null==(c=null==t?void 0:t.sessionMeta)?void 0:c.overrides;(0,s.Im)(f)||(d.sessionMeta.overrides=f);let p=null==t?void 0:t.sessionId;return null!=p&&(d.sessionMeta.attributes.previousSession=p),d}function g({fetchUserSession:e,storeUserSession:t}){return function(n){let r=n.session,o=e(),s=null==r?void 0:r.id,l=null==r?void 0:r.attributes,d=null==r?void 0:r.overrides,p=null==o?void 0:o.sessionMeta,h=null==p?void 0:p.overrides,g=!!d&&!(0,a.b)(d,h),v=!!l&&!(0,a.b)(l,null==p?void 0:p.attributes);if(r&&s!==(null==o?void 0:o.sessionId)||v||g){let e=m(f({sessionId:s,isSampled:(0,c.$)()}),o);t(e),function(e,t={},n={}){var r,o,s;if(!e)return;let a=t.serviceName,l=null!=(s=null!=(r=n.serviceName)?r:null==(o=i.P.metas.value.app)?void 0:o.name)?s:"";a&&a!==l&&i.P.api.pushEvent(u.nT,{serviceName:a,previousServiceName:l})}(g,d,h),i.P.api.setSession(e.sessionMeta)}}}},74246:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});let r="1.19.0"},75670:(e,t,n)=>{"use strict";n.d(t,{HU:()=>i,I1:()=>s,IU:()=>o,Ij:()=>u,jJ:()=>a,sk:()=>l,vb:()=>r});let r="resource-entry",i="http-request-start",o="http-request-end",s="dom-mutation",a="faroUserActionName",u="data-faro-user-action-name",l="faroApiCall"},76152:(e,t,n)=>{"use strict";function r(){return Date.now()}function i(){return new Date().toISOString()}function o(e){return new Date(e).toISOString()}n.d(t,{mI:()=>i,q5:()=>o,x3:()=>r})},77794:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>r,Fm:()=>a,MM:()=>s,Zl:()=>i,gG:()=>o});let r="com.grafana.faro.session",i=144e5,o=9e5,s=1e3,a={enabled:!0,persistent:!1,maxSessionPersistenceTime:9e5}},82672:(e,t,n)=>{"use strict";var r;n.d(t,{J:()=>i,f:()=>r}),function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"}(r||(r={}));let i={[r.EXCEPTION]:"exceptions",[r.LOG]:"logs",[r.MEASUREMENT]:"measurements",[r.TRACE]:"traces",[r.EVENT]:"events"}},83021:(e,t,n)=>{"use strict";var r;n.d(t,{$b:()=>r,HT:()=>o,Ic:()=>i}),function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"}(r||(r={}));let i=r.LOG,o=[r.TRACE,r.DEBUG,r.INFO,r.LOG,r.WARN,r.ERROR]},88195:(e,t,n)=>{"use strict";n.d(t,{RH:()=>o,dM:()=>s,w9:()=>i});var r=n(28090),i="0000000000000000",o="00000000000000000000000000000000",s={traceId:o,spanId:i,traceFlags:r.X.NONE}},89283:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=n(1398)._.getInstance()},89513:(e,t,n)=>{"use strict";let r;n.d(t,{Q:()=>m,X:()=>g});var i=n(22915),o=n(82672),s=n(52106),a=n(38280),u=n(76152),l=n(91438),c=n(8406),d=n(94237),f=n(83021),p=n(42484);class h{constructor(){this.buffer=[]}addItem(e){this.buffer.push(e)}flushBuffer(e){if((0,a.Tn)(e))for(let t of this.buffer)e(t);this.buffer.length=0}size(){return this.buffer.length}}let m=new i.c;function g(e,t,n,i,g){let v;t.debug("Initializing API");let{actionBuffer:b,getMessage:y}=function({apiMessageBus:e,transports:t,config:n}){let r,i=new h,s=n.trackUserActionsExcludeItem;return e.subscribe(e=>{if(c.OV===e.type||c.vX===e.type){r=e;return}if(e.type===c.$g){let{id:n,name:a}=e;i.flushBuffer(e=>{var r,i;if(r=e,(null==(i=s)?void 0:i(r))||r.type===o.f.MEASUREMENT&&"web-vitals"===r.payload.type)return void t.execute(e);let u=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{action:{parentId:n,name:a}})});t.execute(u)}),r=void 0;return}e.type===c._G&&(r=void 0,i.flushBuffer(e=>{t.execute(e)}))}),{actionBuffer:i,getMessage:()=>r}}({apiMessageBus:m,transports:g,config:n}),_=(t.debug("Initializing traces API"),{getOTEL:()=>v,getTraceContext:()=>{let e=null==v?void 0:v.trace.getSpanContext(v.context.active());return e?{trace_id:e.traceId,span_id:e.spanId}:void 0},initOTEL:(e,n)=>{t.debug("Initializing OpenTelemetry"),v={trace:e,context:n}},isOTELInitialized:()=>!!v,pushTraces:e=>{try{let n={type:o.f.TRACE,payload:e,meta:i.value};t.debug("Pushing trace\n",n),g.execute(n)}catch(e){t.error("Error pushing trace\n",e)}}}),S={unpatchedConsole:e,internalLogger:t,config:n,metas:i,transports:g,tracesApi:_,actionBuffer:b,getMessage:y};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_),function({internalLogger:e,config:t,metas:n,transports:i,tracesApi:f,actionBuffer:p,getMessage:h}){var m;e.debug("Initializing exceptions API");let g=null;r=null!=(m=t.parseStacktrace)?m:r;let v=t=>{e.debug("Changing stacktrace parser"),r=null!=t?t:r},{ignoreErrors:b=[],preserveOriginalError:y}=t;return v(t.parseStacktrace),{changeStacktraceParser:v,getStacktraceParser:()=>r,pushError:(m,{skipDedupe:v,stackFrames:_,type:S,context:w,spanContext:E,timestampOverwriteMs:T,originalError:O}={})=>{if(!function(e,t){var n;let{message:r,name:i,stack:o}=t;return n=r+" "+i+" "+o,e.some(e=>(0,a.Kg)(e)?n.includes(e):!!n.match(e))}(b,null!=O?O:m))try{var A;let b,C=(0,s.Ti)(Object.assign(Object.assign({},(b=(A=null!=O?O:m).cause,(0,a.bJ)(b)?b=A.cause.toString():null!==b&&((0,a.Gv)(A.cause)||(0,a.cy)(A.cause))?b=(0,s.xD)(A.cause):null!=b&&(b=A.cause.toString()),null==b?{}:{cause:b})),null!=w?w:{})),x={meta:n.value,payload:Object.assign(Object.assign({type:S||m.name||d.x,value:m.message,timestamp:T?(0,u.q5)(T):(0,u.mI)(),trace:E?{trace_id:E.traceId,span_id:E.spanId}:f.getTraceContext()},(0,a.Im)(C)?{}:{context:C}),y?{originalError:O}:{}),type:o.f.EXCEPTION};(null==(_=null!=_?_:m.stack?null==r?void 0:r(m).frames:void 0)?void 0:_.length)&&(x.payload.stacktrace={frames:_});let L={type:x.payload.type,value:x.payload.value,stackTrace:x.payload.stacktrace,context:x.payload.context};if(!v&&t.dedupe&&!(0,a.kZ)(g)&&(0,l.b)(L,g))return void e.debug("Skipping error push because it is the same as the last one\n",x.payload);g=L,e.debug("Pushing exception\n",x);let R=h();R&&R.type===c.OV?p.addItem(x):i.execute(x)}catch(t){e.error("Error pushing event",t)}}}}(S)),function({internalLogger:e,metas:t}){let n,r,i,o;e.debug("Initializing meta API");let s=e=>{r&&t.remove(r),r={user:e},t.add(r)},u=(e,r)=>{var i;let o=null==r?void 0:r.overrides,s=o?{overrides:Object.assign(Object.assign({},null==(i=null==n?void 0:n.session)?void 0:i.overrides),o)}:{};n&&t.remove(n),n={session:Object.assign(Object.assign({},(0,a.Im)(e)?void 0:e),s)},t.add(n)},l=()=>t.value.session,c=()=>t.value.page;return{setUser:s,resetUser:s,setSession:u,resetSession:u,getSession:l,setView:(e,n)=>{var r;if((null==n?void 0:n.overrides)&&u(l(),{overrides:n.overrides}),(null==(r=null==i?void 0:i.view)?void 0:r.name)===(null==e?void 0:e.name))return;let o=i;i={view:e},t.add(i),o&&t.remove(o)},getView:()=>t.value.view,setPage:e=>{var n;let r=(0,a.Kg)(e)?Object.assign(Object.assign({},null!=(n=null==o?void 0:o.page)?n:c()),{id:e}):e;o&&t.remove(o),o={page:r},t.add(o)},getPage:c}}(S)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:d,getMessage:h}){var m;e.debug("Initializing logs API");let g=null,v=null!=(m=t.logArgsSerializer)?m:p.Z;return{pushLog:(p,{context:m,level:b,skipDedupe:y,spanContext:_,timestampOverwriteMs:S}={})=>{try{let w=(0,s.Ti)(m),E={type:o.f.LOG,payload:{message:v(p),level:null!=b?b:f.Ic,context:(0,a.Im)(w)?void 0:w,timestamp:S?(0,u.q5)(S):(0,u.mI)(),trace:_?{trace_id:_.traceId,span_id:_.spanId}:i.getTraceContext()},meta:n.value},T={message:E.payload.message,level:E.payload.level,context:E.payload.context};if(!y&&t.dedupe&&!(0,a.kZ)(g)&&(0,l.b)(T,g))return void e.debug("Skipping log push because it is the same as the last one\n",E.payload);g=T,e.debug("Pushing log\n",E);let O=h();O&&O.type===c.OV?d.addItem(E):r.execute(E)}catch(t){e.error("Error pushing log\n",t)}}}}(S)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:d,getMessage:f}){e.debug("Initializing measurements API");let p=null;return{pushMeasurement:(h,{skipDedupe:m,context:g,spanContext:v,timestampOverwriteMs:b}={})=>{try{let y=(0,s.Ti)(g),_={type:o.f.MEASUREMENT,payload:Object.assign(Object.assign({},h),{trace:v?{trace_id:v.traceId,span_id:v.spanId}:i.getTraceContext(),timestamp:b?(0,u.q5)(b):(0,u.mI)(),context:(0,a.Im)(y)?void 0:y}),meta:n.value},S={type:_.payload.type,values:_.payload.values,context:_.payload.context};if(!m&&t.dedupe&&!(0,a.kZ)(p)&&(0,l.b)(S,p))return void e.debug("Skipping measurement push because it is the same as the last one\n",_.payload);p=S,e.debug("Pushing measurement\n",_);let w=f();w&&w.type===c.OV?d.addItem(_):r.execute(_)}catch(t){e.error("Error pushing measurement\n",t)}}}}(S)),function({internalLogger:e,config:t,metas:n,transports:r,tracesApi:i,actionBuffer:d,getMessage:f}){let p=null;return{pushEvent:(h,m,g,{skipDedupe:v,spanContext:b,timestampOverwriteMs:y,customPayloadTransformer:_=e=>e}={})=>{try{let S=(0,s.Ti)(m),w={meta:n.value,payload:_({name:h,domain:null!=g?g:t.eventDomain,attributes:(0,a.Im)(S)?void 0:S,timestamp:y?(0,u.q5)(y):(0,u.mI)(),trace:b?{trace_id:b.traceId,span_id:b.spanId}:i.getTraceContext()}),type:o.f.EVENT},E={name:w.payload.name,attributes:w.payload.attributes,domain:w.payload.domain};if(!v&&t.dedupe&&!(0,a.kZ)(p)&&(0,l.b)(E,p))return void e.debug("Skipping event push because it is the same as the last one\n",w.payload);p=E,e.debug("Pushing event\n",w);let T=f();T&&T.type===c.OV?d.addItem(w):r.execute(w)}catch(t){e.error("Error pushing event",t)}}}}(S))}},89723:e=>{!function(){"use strict";var t={};t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},void 0!==t&&(t.ab="//");var n={};t.r(n),t.d(n,{CLSThresholds:function(){return C},FCPThresholds:function(){return O},FIDThresholds:function(){return ee},INPThresholds:function(){return $},LCPThresholds:function(){return V},TTFBThresholds:function(){return q},onCLS:function(){return x},onFCP:function(){return A},onFID:function(){return et},onINP:function(){return F},onLCP:function(){return H},onTTFB:function(){return K}});var r,i,o,s,a,u=-1,l=function(e){addEventListener("pageshow",function(t){t.persisted&&(u=t.timeStamp,e(t))},!0)},c=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},d=function(){var e=c();return e&&e.activationStart||0},f=function(e,t){var n=c(),r="navigate";return u>=0?r="back-forward-cache":n&&(document.prerendering||d()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:r}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},h=function(e,t,n,r){var i,o;return function(s){var a;t.value>=0&&(s||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,a=t.value,t.rating=a>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}},m=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},g=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},v=function(e){var t=!1;return function(){t||(e(),t=!0)}},b=-1,y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},_=function(e){"hidden"===document.visibilityState&&b>-1&&(b="visibilitychange"===e.type?e.timeStamp:0,w())},S=function(){addEventListener("visibilitychange",_,!0),addEventListener("prerenderingchange",_,!0)},w=function(){removeEventListener("visibilitychange",_,!0),removeEventListener("prerenderingchange",_,!0)},E=function(){return b<0&&(b=y(),S(),l(function(){setTimeout(function(){b=y(),S()},0)})),{get firstHiddenTime(){return b}}},T=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},O=[1800,3e3],A=function(e,t){t=t||{},T(function(){var n,r=E(),i=f("FCP"),o=p("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries.push(e),n(!0)))})});o&&(n=h(e,i,O,t.reportAllChanges),l(function(r){n=h(e,i=f("FCP"),O,t.reportAllChanges),m(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},C=[.1,.25],x=function(e,t){t=t||{},A(v(function(){var n,r=f("CLS",0),i=0,o=[],s=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}}),i>r.value&&(r.value=i,r.entries=o,n())},a=p("layout-shift",s);a&&(n=h(e,r,C,t.reportAllChanges),g(function(){s(a.takeRecords()),n(!0)}),l(function(){i=0,n=h(e,r=f("CLS",0),C,t.reportAllChanges),m(function(){return n()})}),setTimeout(n,0))}))},L=0,R=1/0,P=0,I=function(e){e.forEach(function(e){e.interactionId&&(R=Math.min(R,e.interactionId),L=(P=Math.max(P,e.interactionId))?(P-R)/7+1:0)})},N=function(){"interactionCount"in performance||r||(r=p("event",I,{type:"event",buffered:!0,durationThreshold:0}))},k=[],D=new Map,M=0,j=[],U=function(e){if(j.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=k[k.length-1],n=D.get(e.interactionId);if(n||k.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};D.set(r.id,r),k.push(r)}k.sort(function(e,t){return t.latency-e.latency}),k.length>10&&k.splice(10).forEach(function(e){return D.delete(e.id)})}}},B=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=v(e),"hidden"===document.visibilityState?e():(n=t(e),g(e)),n},$=[200,500],F=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},T(function(){N();var n,i,o=f("INP"),s=function(e){B(function(){e.forEach(U);var t,n=(t=Math.min(k.length-1,Math.floor(((r?L:performance.interactionCount||0)-M)/50)),k[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,i())})},a=p("event",s,{durationThreshold:null!=(n=t.durationThreshold)?n:40});i=h(e,o,$,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),g(function(){s(a.takeRecords()),i(!0)}),l(function(){M=0,k.length=0,D.clear(),i=h(e,o=f("INP"),$,t.reportAllChanges)}))}))},V=[2500,4e3],z={},H=function(e,t){t=t||{},T(function(){var n,r=E(),i=f("LCP"),o=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries=[e],n())})},s=p("largest-contentful-paint",o);if(s){n=h(e,i,V,t.reportAllChanges);var a=v(function(){z[i.id]||(o(s.takeRecords()),s.disconnect(),z[i.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return B(a)},!0)}),g(a),l(function(r){n=h(e,i=f("LCP"),V,t.reportAllChanges),m(function(){i.value=performance.now()-r.timeStamp,z[i.id]=!0,n(!0)})})}})},q=[800,1800],G=function e(t){document.prerendering?T(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},K=function(e,t){t=t||{};var n=f("TTFB"),r=h(e,n,q,t.reportAllChanges);G(function(){var i=c();i&&(n.value=Math.max(i.responseStart-d(),0),n.entries=[i],r(!0),l(function(){(r=h(e,n=f("TTFB",0),q,t.reportAllChanges))(!0)}))})},W={passive:!0,capture:!0},X=new Date,Z=function(e,t){i||(i=t,o=e,s=new Date,Y(removeEventListener),Q())},Q=function(){if(o>=0&&o<s-X){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+o};a.forEach(function(t){t(e)}),a=[]}},J=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){Z(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,W),removeEventListener("pointercancel",n,W)},addEventListener("pointerup",t,W),addEventListener("pointercancel",n,W)):Z(i,e)}},Y=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,J,W)})},ee=[100,300],et=function(e,t){t=t||{},T(function(){var n,r=E(),s=f("FID"),u=function(e){e.startTime<r.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},c=function(e){e.forEach(u)},d=p("first-input",c);n=h(e,s,ee,t.reportAllChanges),d&&(g(v(function(){c(d.takeRecords()),d.disconnect()})),l(function(){n=h(e,s=f("FID"),ee,t.reportAllChanges),a=[],o=-1,i=null,Y(addEventListener),a.push(u),Q()}))})};e.exports=n}()},89969:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=n(90650).K.instance()},90650:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var r=n(21782),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,n){var s=(0,r.mS)("diag");if(s)return n.unshift(t),s[e].apply(s,o([],i(n),!1))}var u=n(4446),l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(0,r.mS)("diag");if(i)return i[e].apply(i,c([],l(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:u.u.INFO}),e===t){var i,o,s,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=a.stack)?i:a.message),!1}"number"==typeof n&&(n={logLevel:n});var l=(0,r.mS)("diag"),c=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<u.u.NONE?e=u.u.NONE:e>u.u.ALL&&(e=u.u.ALL),t=t||{},{error:n("error",u.u.ERROR),warn:n("warn",u.u.WARN),info:n("info",u.u.INFO),debug:n("debug",u.u.DEBUG),verbose:n("verbose",u.u.VERBOSE)}}(null!=(o=n.logLevel)?o:u.u.INFO,e);if(l&&!n.suppressOverrideMessage){var d=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return(0,r.$G)("diag",c,t,!0)},t.disable=function(){(0,r.kv)("diag",t)},t.createComponentLogger=function(e){return new s(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},91237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnchoredClock:()=>d,BindOnceFuture:()=>em,CompositePropagator:()=>V,ExportResultCode:()=>N.V,RPCType:()=>r,SDK_INFO:()=>D,TRACE_PARENT_HEADER:()=>z.ZS,TRACE_STATE_HEADER:()=>z.UD,TimeoutError:()=>ec,TraceState:()=>W.n,W3CBaggagePropagator:()=>c,W3CTraceContextPropagator:()=>z.lm,_globalThis:()=>M,addHrTimes:()=>I,callWithTimeout:()=>ed,deleteRPCMetadata:()=>G,diagLogLevelFromString:()=>eb,getBooleanFromEnv:()=>U,getNumberFromEnv:()=>B,getRPCMetadata:()=>K,getStringFromEnv:()=>j,getStringListFromEnv:()=>$,getTimeOrigin:()=>w,globalErrorHandler:()=>y,hrTime:()=>E,hrTimeDuration:()=>O,hrTimeToMicroseconds:()=>L,hrTimeToMilliseconds:()=>x,hrTimeToNanoseconds:()=>C,hrTimeToTimeStamp:()=>A,internal:()=>e_,isAttributeValue:()=>h,isTimeInput:()=>P,isTimeInputHrTime:()=>R,isTracingSuppressed:()=>o.Zf,isUrlIgnored:()=>ep,loggingErrorHandler:()=>g,merge:()=>er,millisToHrTime:()=>S,otperformance:()=>_,parseKeyPairsIntoRecord:()=>l,parseTraceParent:()=>z.ZI,sanitizeAttributes:()=>p,setGlobalErrorHandler:()=>b,setRPCMetadata:()=>q,suppressTracing:()=>o.M1,timeInputToHrTime:()=>T,unrefTimer:()=>F,unsuppressTracing:()=>o.FU,urlMatches:()=>ef});var r,i=n(58773),o=n(10847);let s="baggage";var a=n(46216);function u(e){let t,n=e.split(";");if(n.length<=0)return;let r=n.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let o=decodeURIComponent(r.substring(0,i).trim()),s=decodeURIComponent(r.substring(i+1).trim());return n.length>0&&(t=(0,a.B)(n.join(";"))),{key:o,value:s,metadata:t}}function l(e){let t={};return"string"==typeof e&&e.length>0&&e.split(",").forEach(e=>{let n=u(e);void 0!==n&&n.value.length>0&&(t[n.key]=n.value)}),t}class c{inject(e,t,n){let r=i.$.getBaggage(e);if(!r||(0,o.Zf)(e))return;let a=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");a.length>0&&n.set(t,s,a)}extract(e,t,n){let r=n.get(t,s),o=Array.isArray(r)?r.join(","):r;if(!o)return e;let a={};return 0===o.length||(o.split(",").forEach(e=>{let t=u(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}}),0===Object.entries(a).length)?e:i.$.setBaggage(e,i.$.createBaggage(a))}fields(){return[s]}}class d{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}var f=n(89969);function p(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,i]of Object.entries(e)){var n;if(!("string"==typeof(n=r)&&n.length>0)){f.s.warn(`Invalid attribute key: ${r}`);continue}if(!h(i)){f.s.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function h(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(m(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):m(e))}function m(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function g(){return e=>{var t;f.s.error("string"==typeof(t=e)?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t)))}}let v=g();function b(e){v=e}function y(e){try{v(e)}catch{}}let _=performance;function S(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function w(){let e=_.timeOrigin;return"number"!=typeof e&&(e=_.timing&&_.timing.fetchStart),e}function E(e){return I(S(w()),S("number"==typeof e?e:_.now()))}function T(e){if(R(e))return e;if("number"==typeof e)if(e<w())return E(e);else return S(e);if(e instanceof Date)return S(e.getTime());throw TypeError("Invalid input type")}function O(e,t){let n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=1e9),[n,r]}function A(e){let t=`${"0".repeat(9)}${e[1]}Z`,n=t.substring(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function C(e){return 1e9*e[0]+e[1]}function x(e){return 1e3*e[0]+e[1]/1e6}function L(e){return 1e6*e[0]+e[1]/1e3}function R(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function P(e){return R(e)||"number"==typeof e||e instanceof Date}function I(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}var N=n(22078),k=n(22827);let D={[k.aO]:"opentelemetry","process.runtime.name":"browser",[k.E$]:k.qV,[k.aJ]:"2.0.1"},M="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{};function j(e){}function U(e){}function B(e){}function $(e){}function F(e){}class V{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,n){for(let r of this._propagators)try{r.inject(e,t,n)}catch(e){f.s.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}}extract(e,t,n){return this._propagators.reduce((e,r)=>{try{return r.extract(e,t,n)}catch(e){f.s.warn(`Failed to extract with ${r.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}var z=n(41923);let H=(0,n(69366).n)("OpenTelemetry SDK Context Key RPC_METADATA");function q(e,t){return e.setValue(H,t)}function G(e){return e.deleteValue(H)}function K(e){return e.getValue(H)}(r||(r={})).HTTP="http";var W=n(67774);let X=Function.prototype.toString,Z=X.call(Object),Q=Object.getPrototypeOf,J=Object.prototype,Y=J.hasOwnProperty,ee=Symbol?Symbol.toStringTag:void 0,et=J.toString;function en(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":ee&&ee in Object(n)?function(e){let t=Y.call(e,ee),n=e[ee],r=!1;try{e[ee]=void 0,r=!0}catch(e){}let i=et.call(e);return r&&(t?e[ee]=n:delete e[ee]),i}(n):(r=n,et.call(r))))return!1;let i=Q(e);if(null===i)return!0;let o=Y.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&X.call(o)===Z}function er(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let o;if(!(r>20)){if(r++,el(t)||el(n)||ea(n))o=ei(n);else if(es(t)){if(o=t.slice(),es(n))for(let e=0,t=n.length;e<t;e++)o.push(ei(n[e]));else if(eu(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];o[r]=ei(n[r])}}}else if(eu(t))if(eu(n)){var s,a;if(s=t,a=n,!(en(s)&&en(a)))return n;o=Object.assign({},t);let u=Object.keys(n);for(let s=0,a=u.length;s<a;s++){let a=u[s],l=n[a];if(el(l))void 0===l?delete o[a]:o[a]=l;else{let s=o[a];if(eo(t,a,i)||eo(n,a,i))delete o[a];else{if(eu(s)&&eu(l)){let e=i.get(s)||[],r=i.get(l)||[];e.push({obj:t,key:a}),r.push({obj:n,key:a}),i.set(s,e),i.set(l,r)}o[a]=e(o[a],l,r,i)}}}}else o=n;return o}}(t,e.shift(),0,n);return t}function ei(e){return es(e)?e.slice():e}function eo(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function es(e){return Array.isArray(e)}function ea(e){return"function"==typeof e}function eu(e){return!el(e)&&!es(e)&&!ea(e)&&"object"==typeof e}function el(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}class ec extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ec.prototype)}}function ed(e,t){let n;return Promise.race([e,new Promise(function(e,r){n=setTimeout(function(){r(new ec("Operation timed out."))},t)})]).then(e=>(clearTimeout(n),e),e=>{throw clearTimeout(n),e})}function ef(e,t){return"string"==typeof t?e===t:!!e.match(t)}function ep(e,t){if(!t)return!1;for(let n of t)if(ef(e,n))return!0;return!1}class eh{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class em{_callback;_that;_isCalled=!1;_deferred=new eh;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}var eg=n(4446);let ev={ALL:eg.u.ALL,VERBOSE:eg.u.VERBOSE,DEBUG:eg.u.DEBUG,INFO:eg.u.INFO,WARN:eg.u.WARN,ERROR:eg.u.ERROR,NONE:eg.u.NONE};function eb(e){if(null==e)return;let t=ev[e.toUpperCase()];return null==t?(f.s.warn(`Unknown log level "${e}", expected one of ${Object.keys(ev)}, using default`),eg.u.INFO):t}var ey=n(89283);let e_={_export:function(e,t){return new Promise(n=>{ey._.with((0,o.M1)(ey._.active()),()=>{e.export(t,e=>{n(e)})})})}}},91438:(e,t,n)=>{"use strict";n.d(t,{b:()=>function e(t,n){if(t===n)return!0;if((0,r.Ed)(t,"number")&&isNaN(t))return(0,r.Ed)(n,"number")&&isNaN(n);let i=(0,r.cy)(t),o=(0,r.cy)(n);if(i!==o)return!1;if(i&&o){let r=t.length;if(r!==n.length)return!1;for(let i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}let s=(0,r.Gv)(t),a=(0,r.Gv)(n);if(s!==a)return!1;if(t&&n&&s&&a){let r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(let e of r)if(!i.includes(e))return!1;for(let i of r)if(!e(t[i],n[i]))return!1;return!0}return!1}});var r=n(38280)},92067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOtlpEncoder=t.encodeAsString=t.encodeAsLongBits=t.toLongBits=t.hrTimeToNanos=void 0;let r=n(91237),i=n(42399);function o(e){let t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function s(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function a(e){return s(o(e))}function u(e){return o(e).toString()}t.hrTimeToNanos=o,t.toLongBits=s,t.encodeAsLongBits=a,t.encodeAsString=u;let l="undefined"!=typeof BigInt?u:r.hrTimeToNanoseconds;function c(e){return e}function d(e){if(void 0!==e)return(0,i.hexToBinary)(e)}let f={encodeHrTime:a,encodeSpanContext:i.hexToBinary,encodeOptionalSpanContext:d};t.getOtlpEncoder=function(e){if(void 0===e)return f;let t=e.useLongBits??!0,n=e.useHex??!1;return{encodeHrTime:t?a:l,encodeSpanContext:n?c:i.hexToBinary,encodeOptionalSpanContext:n?c:d}}},93545:(e,t,n)=>{"use strict";let r,i;n.d(t,{p:()=>j});var o=n(89513),s=n(22975),a=n(24757),u=n(49216);function l(e=a.Z,t=s.vI){let n=s.vc;return t>s.wK.OFF&&(n.error=t>=s.wK.ERROR?function(...t){e.error(`${n.prefix}
`,...t)}:u.l,n.warn=t>=s.wK.WARN?function(...t){e.warn(`${n.prefix}
`,...t)}:u.l,n.info=t>=s.wK.INFO?function(...t){e.info(`${n.prefix}
`,...t)}:u.l,n.debug=t>=s.wK.VERBOSE?function(...t){e.debug(`${n.prefix}
`,...t)}:u.l),n}s.vc;var c=n(38280),d=n(61239),f=n(74246),p=n(63405),h=n(52186);class m{constructor(e,t){var n,r;this.signalBuffer=[],this.itemLimit=null!=(n=null==t?void 0:t.itemLimit)?n:50,this.sendTimeout=null!=(r=null==t?void 0:t.sendTimeout)?r:250,this.paused=(null==t?void 0:t.paused)||!1,this.sendFn=e,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.flush()})}addItem(e){!this.paused&&(this.signalBuffer.push(e),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(e){let t=new Map;return e.forEach(e=>{let n=JSON.stringify(e.meta),r=t.get(n);r=void 0===r?[e]:[...r,e],t.set(n,r)}),Array.from(t.values())}flush(){this.paused||0===this.signalBuffer.length||(this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[])}}var g=n(82672);let v=a.Z,b={enabled:!0,sendTimeout:250,itemLimit:50};var y=n(42484),_=n(29156);function S(e){return{frames:(0,_.D)(e)}}var w=n(77794),E=n(75670),T=n(99547),O=n(31266);let A=()=>{let e=new T.UAParser,{name:t,version:n}=e.getBrowser(),{name:r,version:i}=e.getOS(),o=e.getUA(),s=navigator.language,a=navigator.userAgent.includes("Mobi"),u=function(){if(t&&n&&"userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands}();return{browser:{name:null!=t?t:O.y,version:null!=n?n:O.y,os:`${null!=r?r:O.y} ${null!=i?i:O.y}`,userAgent:null!=o?o:O.y,language:null!=s?s:O.y,mobile:a,brands:null!=u?u:O.y,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}}},C=()=>{let e=window.k6;return{k6:Object.assign({isK6Browser:!0},(null==e?void 0:e.testRunId)&&{testRunId:null==e?void 0:e.testRunId})}};var x=n(61989);class L extends x.H{isBatched(){return!1}getIgnoreUrls(){return[]}}var R=n(50871),P=n(72557),I=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class k extends L{constructor(e){var t,n,r,i;super(),this.options=e,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=f.x,this.disabledUntil=new Date,this.rateLimitBackoffMs=null!=(t=e.defaultRateLimitBackoffMs)?t:5e3,this.getNow=null!=(n=e.getNow)?n:()=>Date.now(),this.promiseBuffer=function(e){let{size:t,concurrency:n}=e,r=[],i=0,o=()=>{if(i<n&&r.length){let{producer:e,resolve:t,reject:n}=r.shift();i++,e().then(e=>{i--,o(),t(e)},e=>{i--,o(),n(e)})}};return{add:e=>{if(r.length+i>=t)throw Error("Task buffer full");return new Promise((t,n)=>{r.push({producer:e,resolve:t,reject:n}),o()})}}}({size:null!=(r=e.bufferSize)?r:30,concurrency:null!=(i=e.concurrency)?i:5})}send(e){return I(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{let t,n,r=JSON.stringify((n={meta:{}},void 0!==e[0]&&(n.meta=e[0].meta),e.forEach(e=>{switch(e.type){case g.f.LOG:case g.f.EVENT:case g.f.EXCEPTION:case g.f.MEASUREMENT:let t=g.J[e.type],r=n[t];n=Object.assign(Object.assign({},n),{[t]:void 0===r?[e.payload]:[...r,e.payload]});break;case g.f.TRACE:n=Object.assign(Object.assign({},n),{traces:function(e,t){var n,r;if(void 0===t)return e;if(void 0===e)return{resourceSpans:t};let i=null==(n=e.resourceSpans)?void 0:n[0];if(void 0===i)return e;let o=(null==i?void 0:i.scopeSpans)||[],s=(null==(r=null==t?void 0:t[0])?void 0:r.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},i),{scopeSpans:[...o,...s]})]})}(n.traces,e.payload.resourceSpans)})}}),n)),{url:i,requestOptions:o,apiKey:s}=this.options,a=null!=o?o:{},{headers:l}=a,c=N(a,["headers"]),d=this.metas.value.session;return null!=d&&(t=d.id),fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},null!=l?l:{}),s?{"x-api-key":s}:{}),t?{"x-faro-session-id":t}:{}),body:r,keepalive:r.length<=6e4},null!=c?c:{})).then(e=>I(this,void 0,void 0,function*(){return 202===e.status&&"invalid"===e.headers.get("X-Faro-Session-Status")&&this.extendFaroSession(this.config,this.logDebug),429===e.status&&(this.disabledUntil=this.getRetryAfterDate(e),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),e.text().catch(u.l),e})).catch(e=>{this.logError("Failed sending payload to the receiver\n",JSON.parse(r),e)})})}catch(e){this.logError(e)}})}getIgnoreUrls(){var e;return[this.options.url].concat(null!=(e=this.config.ignoreUrls)?e:[])}isBatched(){return!0}getRetryAfterDate(e){let t=this.getNow(),n=e.headers.get("Retry-After");if(n){let e=Number(n);if(!isNaN(e))return new Date(1e3*e+t);let r=Date.parse(n);if(!isNaN(r))return new Date(r)}return new Date(t+this.rateLimitBackoffMs)}extendFaroSession(e,t){let n="Session expired",r=e.sessionTracking;if(null==r?void 0:r.enabled){let{fetchUserSession:e,storeUserSession:i}=(0,R.R)(r);(0,P.vP)({fetchUserSession:e,storeUserSession:i})({forceSessionExtend:!0}),t(`${n} created new session.`)}else t(`${n}.`)}}var D=n(35103),M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function j(e){let t=function(e){var t;let n=[],o=l(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&o.error('if "transports" is defined, "url" and "apiKey" should not be defined'),n.push(...e.transports)):e.url?n.push(new k({url:e.url,apiKey:e.apiKey})):o.error('either "url" or "transports" must be defined');let{dedupe:u=!0,eventDomain:d="browser",globalObjectKey:f="faro",instrumentations:p=(0,D.w)(),internalLoggerLevel:h=s.vI,isolate:m=!1,logArgsSerializer:g=y.Z,metas:v=function(e){var t,n;let{page:o,generatePageId:s}=null!=(t=null==e?void 0:e.pageTracking)?t:{},a=[A,function({generatePageId:e,initialPageMeta:t}={}){return()=>{let n=location.href;return(0,c.Tn)(e)&&r!==n&&(r=n,i=e(location)),{page:Object.assign(Object.assign({url:n},i?{id:i}:{}),t)}}}({generatePageId:s,initialPageMeta:o}),...null!=(n=e.metas)?n:[]];return(0,c.Gv)(window.k6)?[...a,C]:a}(e),paused:_=!1,preventGlobalExposure:T=!1,unpatchedConsole:O=a.Z,trackUserActionsPreview:x=!1,trackUserActionsDataAttributeName:L=E.Ij,url:R}=e;return Object.assign(Object.assign({},M(e,["dedupe","eventDomain","globalObjectKey","instrumentations","internalLoggerLevel","isolate","logArgsSerializer","metas","paused","preventGlobalExposure","unpatchedConsole","trackUserActionsPreview","trackUserActionsDataAttributeName","url"])),{batching:Object.assign(Object.assign({},b),e.batching),dedupe:u,globalObjectKey:f,instrumentations:function(e,{trackUserActionsPreview:t}){return e.filter(e=>"@grafana/faro-web-sdk:instrumentation-user-action"!==e.name||!!t)}(p,e),internalLoggerLevel:h,isolate:m,logArgsSerializer:g,metas:v,parseStacktrace:S,paused:_,preventGlobalExposure:T,transports:n,unpatchedConsole:O,eventDomain:d,ignoreUrls:[...null!=(t=e.ignoreUrls)?t:[],...R?[R]:[],/\/collect(?:\/[\w]*)?$/],sessionTracking:Object.assign(Object.assign(Object.assign({},w.Fm),e.sessionTracking),function({trackGeolocation:e,sessionTracking:t}){var n;let r={};return((0,c.Lm)(e)&&(r.geoLocationTrackingEnabled=e),(0,c.Im)(r))?{}:{session:Object.assign(Object.assign({},null!=(n=null==t?void 0:t.session)?n:{}),{overrides:r})}}({trackGeolocation:e.trackGeolocation,sessionTracking:e.sessionTracking})),trackUserActionsPreview:x,trackUserActionsDataAttributeName:L})}(e);if(t)return function(e){var t;let n=v=null!=(t=e.unpatchedConsole)?t:v,r=l(n,e.internalLoggerLevel);if((0,p.rI)()&&!e.isolate)return void r.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');r.debug("Initializing");let i=function(e,t,n){let r=[],i=[],o=()=>r.reduce((e,t)=>Object.assign(e,(0,c.Tn)(t)?t():t),{}),s=()=>{if(i.length){let e=o();i.forEach(t=>t(e))}};return{add:(...e)=>{t.debug("Adding metas\n",e),r.push(...e),s()},remove:(...e)=>{t.debug("Removing metas\n",e),r=r.filter(t=>!e.includes(t)),s()},addListener:e=>{t.debug("Adding metas listener\n",e),i.push(e)},removeListener:e=>{t.debug("Removing metas listener\n",e),i=i.filter(t=>t!==e)},get value(){return o()}}}(0,r,0),s=function(e,t,n,r){var i;let o;t.debug("Initializing transports");let s=[],a=n.paused,u=[],l=e=>{let t=e;for(let e of u){let r=t.map(e).filter(Boolean);if(0===r.length)return[];t=function(e,t){if(t.preserveOriginalError)for(let t of e)t.type===g.f.EXCEPTION&&delete t.payload.originalError;return e}(r,n)}return t};return(null==(i=n.batching)?void 0:i.enabled)&&(o=new m(e=>{let n=l(e);if(0!==n.length)for(let e of s)t.debug(`Transporting item using ${e.name}
`,n),e.isBatched()&&e.send(n)},{sendTimeout:n.batching.sendTimeout,itemLimit:n.batching.itemLimit,paused:a})),{add:(...i)=>{t.debug("Adding transports"),i.forEach(i=>{if(t.debug(`Adding "${i.name}" transport`),s.some(e=>e===i))return void t.warn(`Transport ${i.name} is already added`);i.unpatchedConsole=e,i.internalLogger=t,i.config=n,i.metas=r,s.push(i)})},addBeforeSendHooks:(...e)=>{t.debug("Adding beforeSendHooks\n",u),e.forEach(e=>{e&&u.push(e)})},getBeforeSendHooks:()=>[...u],execute:e=>{var r;a||((null==(r=n.batching)?void 0:r.enabled)&&(null==o||o.addItem(e)),(e=>{var r,i;if((null==(r=n.batching)?void 0:r.enabled)&&s.every(e=>e.isBatched()))return;let[o]=l([e]);if(void 0!==o)for(let e of s)t.debug(`Transporting item using ${e.name}
`,o),e.isBatched()?(null==(i=n.batching)?void 0:i.enabled)||e.send([o]):e.send(o)})(e))},isPaused:()=>a,pause:()=>{t.debug("Pausing transports"),null==o||o.pause(),a=!0},remove:(...e)=>{t.debug("Removing transports"),e.forEach(e=>{t.debug(`Removing "${e.name}" transport`);let n=s.indexOf(e);if(-1===n)return void t.warn(`Transport "${e.name}" is not added`);s.splice(n,1)})},removeBeforeSendHooks:(...e)=>{u.filter(t=>!e.includes(t))},get transports(){return[...s]},unpause:()=>{t.debug("Unpausing transports"),null==o||o.start(),a=!1}}}(n,r,e,i),a=(0,o.X)(n,r,e,i,s),u=function(e,t,n,r,i,o){t.debug("Initializing instrumentations");let s=[];return{add:(...a)=>{t.debug("Adding instrumentations"),a.forEach(a=>{if(t.debug(`Adding "${a.name}" instrumentation`),s.some(e=>e.name===a.name))return void t.warn(`Instrumentation ${a.name} is already added`);a.unpatchedConsole=e,a.internalLogger=t,a.config=n,a.metas=r,a.transports=i,a.api=o,s.push(a),a.initialize()})},get instrumentations(){return[...s]},remove:(...e)=>{t.debug("Removing instrumentations"),e.forEach(e=>{var n,r;t.debug(`Removing "${e.name}" instrumentation`);let i=s.reduce((t,n,r)=>null===t&&n.name===e.name?r:null,null);if(null===i)return void t.warn(`Instrumentation "${e.name}" is not added`);null==(r=(n=s[i]).destroy)||r.call(n),s.splice(i,1)})}}}(n,r,e,i,s,a),b=(0,h.A)(n,r,e,i,s,a,u);return!function(e){var t,n,r;let i={sdk:{version:f.x},app:{bundleId:e.config.app.name&&(r=e.config.app.name,null===d.J||void 0===d.J?void 0:d.J[`__faroBundleId_${r}`])}},o=null==(t=e.config.sessionTracking)?void 0:t.session;o&&e.api.setSession(o),e.config.app&&(i.app=Object.assign(Object.assign({},e.config.app),i.app)),e.config.user&&(i.user=e.config.user),e.config.view&&(i.view=e.config.view),e.metas.add(i,...null!=(n=e.config.metas)?n:[])}(b),b.transports.add(...b.config.transports),b.transports.addBeforeSendHooks(b.config.beforeSend),b.instrumentations.add(...b.config.instrumentations),b}(t)}},94237:(e,t,n)=>{"use strict";n.d(t,{n:()=>s,x:()=>o});var r=n(38280),i=n(52106);let o="Error",s=e=>e.map(e=>(0,r.Gv)(e)?(0,i.xD)(e):String(e)).join(" ")},96442:(e,t,n)=>{"use strict";n.d(t,{default:()=>i.a});var r=n(25575),i=n.n(r)},97007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let r=n(54568),i=n(7620),o=n(56452);function s(e){return{default:e&&"default"in e?e.default:e}}n(3625);let a={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},u=function(e){let t={...a,...e},n=(0,i.lazy)(()=>t.loader().then(s)),u=t.loading;function l(e){let s=u?(0,r.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,l=a?i.Suspense:i.Fragment,c=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(l,{...a?{fallback:s}:{},children:c})}return l.displayName="LoadableComponent",l}},98098:(e,t)=>{"use strict";t.ds=t.XV=t.a3=t.v8=t.z4=t.Me=t.rp=t.Mm=void 0,t.Mm="http.host",t.rp="http.method",t.Me="http.request.body.size",t.z4="http.request_content_length_uncompressed",t.v8="http.scheme",t.a3="http.status_code",t.XV="http.url",t.ds="http.user_agent"},99500:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(20870);function i(e,t,n,i){let o={filename:e||document.location.href,function:t||r.iC};return void 0!==n&&(o.lineno=n),void 0!==i&&(o.colno=i),o}},99547:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",l="string",c="major",d="model",f="name",p="type",h="vendor",m="version",g="architecture",v="console",b="mobile",y="tablet",_="smarttv",S="wearable",w="embedded",E="Amazon",T="Apple",O="ASUS",A="BlackBerry",C="Browser",x="Chrome",L="Firefox",R="Google",P="Honor",I="Huawei",N="Microsoft",k="Motorola",D="Nvidia",M="OnePlus",j="Opera",U="OPPO",B="Samsung",$="Sharp",F="Sony",V="Xiaomi",z="Zebra",H="Facebook",q="Chromium OS",G="Mac OS",K=" Browser",W=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},X=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Z=function(e,t){return typeof e===l&&-1!==Q(t).indexOf(Q(e))},Q=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var n,r,i,a,l,c,d=0;d<t.length&&!l;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!l&&f[n];)if(l=f[n++].exec(e))for(i=0;i<p.length;i++)c=l[++r],typeof(a=p[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Z(t[n][r],e))return"?"===n?o:n}else if(Z(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[f,j+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[f,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[m,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[f,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+C],m],[/\bfocus\/([\w\.]+)/i],[m,[f,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI"+K]],[/fxios\/([\w\.-]+)/i],[m,[f,L]],[/\bqihoobrowser\/?([\w\.]*)/i],[m,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+K],m],[/samsungbrowser\/([\w\.]+)/i],[m,[f,B+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[m,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[m,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,H],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,x+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,ee,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[g,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[g,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[g,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[g,/ower/,"",Q]],[/ sun4\w[;\)]/i],[[g,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[g,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,B],[p,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,B],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,T],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,T],[p,y]],[/(macintosh);/i],[d,[h,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,$],[p,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[h,P],[p,y]],[/honor([-\w ]+)[;\)]/i],[d,[h,P],[p,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[h,I],[p,y]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,I],[p,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[h,V],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[h,V],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,U],[p,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[h,ee,{OnePlus:["304","403","203"],"*":U}],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,k],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,k],[p,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,"LG"],[p,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,"LG"],[p,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[h,"Lenovo"],[p,y]],[/(nokia) (t[12][01])/i],[h,d,[p,y]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[p,b],[h,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[h,R],[p,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,R],[p,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,F],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,F],[p,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,M],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,E],[p,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,E],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[p,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,A],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,O],[p,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,O],[p,b]],[/(nexus 9)/i],[d,[h,"HTC"],[p,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[p,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[h,"TCL"],[p,y]],[/(itel) ((\w+))/i],[[h,Q],d,[p,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[p,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[p,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[h,"Energizer"],[p,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[h,"Cat"],[p,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[h,"Smartfren"],[p,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[h,"Nothing"],[p,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[h,"Archos"],[p,y]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[h,"Archos"],[p,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[h,d,[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[p,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[p,y]],[/(surface duo)/i],[d,[h,N],[p,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[p,b]],[/(u304aa)/i],[d,[h,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[p,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[p,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[p,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[p,y]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[p,y]],[/\b(k88) b/i],[d,[h,"ZTE"],[p,y]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[p,y]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[p,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[p,y]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[p,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[p,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[p,b]],[/\b(ph-1) /i],[d,[h,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[p,y]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[p,y]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[p,y]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[h,D],[p,y]],[/(sprint) (\w+)/i],[h,d,[p,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,N],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,z],[p,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,z],[p,b]],[/smart-tv.+(samsung)/i],[h,[p,_]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,B],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[p,_]],[/(apple) ?tv/i],[h,[d,T+" TV"],[p,_]],[/crkey/i],[[d,x+"cast"],[h,R],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,E],[p,_]],[/(shield \w+ tv)/i],[d,[h,D],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,$],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,F],[p,_]],[/(mi(tv|box)-?\w+) bui/i],[d,[h,V],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,J],[d,J],[p,_]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[p,v]],[/droid.+; (shield)( bui|\))/i],[d,[h,D],[p,v]],[/(playstation \w+)/i],[d,[h,F],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,N],[p,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[h,B],[p,S]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[h,d,[p,S]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[h,U],[p,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,T],[p,S]],[/(opwwe\d{3})/i],[d,[h,M],[p,S]],[/(moto 360)/i],[d,[h,k],[p,S]],[/(smartwatch 3)/i],[d,[h,F],[p,S]],[/(g watch r)/i],[d,[h,"LG"],[p,S]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,z],[p,S]],[/droid.+; (glass) \d/i],[d,[h,R],[p,S]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,d,[p,S]],[/; (quest( \d| pro)?)/i],[d,[h,H],[p,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,w]],[/(aeobc)\b/i],[d,[h,E],[p,w]],[/(homepod).+mac os/i],[d,[h,T],[p,w]],[/windows iot/i],[[p,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[f,m],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,m],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[m,ee,et]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,ee,et],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,G],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],m],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,m],[/\(bb(10);/i],[m,[f,A]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[f,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,q],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,m]]},er=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof er))return new er(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:o,_=t?W(en,t):en,S=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=o,t[m]=o,Y.call(t,r,_.browser),t[c]=typeof(e=t[m])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o,S&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,Y.call(e,r,_.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[d]=o,e[p]=o,Y.call(e,r,_.device),S&&!e[p]&&v&&v.mobile&&(e[p]=b),S&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=y),e},this.getEngine=function(){var e={};return e[f]=o,e[m]=o,Y.call(e,r,_.engine),e},this.getOS=function(){var e={};return e[f]=o,e[m]=o,Y.call(e,r,_.os),S&&!e[f]&&v&&v.platform&&"Unknown"!=v.platform&&(e[f]=v.platform.replace(/chrome os/i,q).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?J(e,500):e,this},this.setUA(r),this};er.VERSION="1.0.41",er.BROWSER=X([f,m,c]),er.CPU=X([g]),er.DEVICE=X([d,h,p,v,b,_,y,S,w]),er.ENGINE=er.OS=X([f,m]),typeof t!==a?(e.exports&&(t=e.exports=er),t.UAParser=er):n.amdO?o===(r=(function(){return er}).call(t,n,t,e))||(e.exports=r):typeof i!==a&&(i.UAParser=er);var ei=typeof i!==a&&(i.jQuery||i.Zepto);if(ei&&!ei.ua){var eo=new er;ei.ua=eo.getResult(),ei.ua.get=function(){return eo.getUA()},ei.ua.set=function(e){eo.setUA(e);var t=eo.getResult();for(var n in t)ei.ua[n]=t[n]}}}("object"==typeof window?window:this)}}]);